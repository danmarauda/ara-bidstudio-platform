This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
app/
  (dashboard)/
    favorites/
      page.tsx
    recents/
      page.tsx
    layout.tsx
    page.tsx
  globals.css
  layout.tsx
components/
  dashboard/
    map-controls.tsx
    map-view.tsx
    maps-panel.tsx
    sidebar.tsx
  ui/
    badge.tsx
    button.tsx
    collapsible.tsx
    dropdown-menu.tsx
    input.tsx
    separator.tsx
    sheet.tsx
    sidebar.tsx
    skeleton.tsx
    tooltip.tsx
  theme-provider.tsx
  theme-toggle.tsx
hooks/
  use-mobile.ts
lib/
  utils.ts
mock-data/
  locations.ts
store/
  maps-store.ts
.gitignore
components.json
eslint.config.mjs
next.config.ts
package.json
postcss.config.mjs
tsconfig.json
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="app/(dashboard)/favorites/page.tsx">
"use client";

import { MapView } from "@/components/dashboard/map-view";
import { MapsPanel } from "@/components/dashboard/maps-panel";
import { MapControls } from "@/components/dashboard/map-controls";

export default function FavoritesPage() {
  return (
    <div className="relative h-full w-full overflow-hidden">
      <MapView />
      <MapsPanel mode="favorites" />
      <MapControls />
    </div>
  );
}
</file>

<file path="app/(dashboard)/recents/page.tsx">
"use client";

import { MapView } from "@/components/dashboard/map-view";
import { MapsPanel } from "@/components/dashboard/maps-panel";
import { MapControls } from "@/components/dashboard/map-controls";

export default function RecentsPage() {
  return (
    <div className="relative h-full w-full overflow-hidden">
      <MapView />
      <MapsPanel mode="recents" />
      <MapControls />
    </div>
  );
}
</file>

<file path="app/(dashboard)/layout.tsx">
"use client";

import { SidebarProvider, SidebarInset } from "@/components/ui/sidebar";
import { LocationsSidebar } from "@/components/dashboard/sidebar";

export default function DashboardLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <SidebarProvider>
      <LocationsSidebar />
      <SidebarInset className="overflow-hidden">
        {children}
      </SidebarInset>
    </SidebarProvider>
  );
}
</file>

<file path="app/(dashboard)/page.tsx">
"use client";

import { MapView } from "@/components/dashboard/map-view";
import { MapsPanel } from "@/components/dashboard/maps-panel";
import { MapControls } from "@/components/dashboard/map-controls";

export default function MapsPage() {
  return (
    <div className="relative h-full w-full overflow-hidden">
      <MapView />
      <MapsPanel />
      <MapControls />
    </div>
  );
}
</file>

<file path="app/globals.css">
@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-sans);
  --font-mono: var(--font-geist-mono);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);
}

:root {
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.58 0.22 27);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.714);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --radius: 0.625rem;
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.205 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.205 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.87 0.00 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.371 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.556 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.556 0 0);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

.maplibregl-popup-content {
  @apply !bg-background !text-foreground !rounded-lg !border !border-border !shadow-lg !p-0;
}

.maplibregl-popup-tip {
  display: none !important;
}

.maplibregl-popup-close-button {
  @apply !text-muted-foreground hover:!text-foreground !text-lg !p-2;
}

.location-hover-popup .maplibregl-popup-content {
  background-color: var(--background) !important;
  padding: 0 !important;
  border-radius: 16px !important;
  overflow: hidden;
  box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.2), 0 4px 12px rgba(0, 0, 0, 0.1) !important;
}

.location-hover-popup .maplibregl-popup-tip {
  display: none !important;
}

.location-popup {
  padding: 16px;
  min-width: 320px;
  max-width: 360px;
  z-index: 1000;
  cursor: pointer!important;
}

.location-popup .popup-header {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  margin-bottom: 12px;
}

.location-popup .popup-icon {
  width: 48px;
  height: 48px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.location-popup .popup-title-section {
  flex: 1;
  min-width: 0;
}

.location-popup .popup-title {
  font-size: 16px;
  font-weight: 600;
  margin: 0;
  line-height: 1.3;
  color: var(--foreground);
}

.location-popup .popup-category {
  font-size: 12px;
  color: var(--muted-foreground);
  margin: 4px 0 0 0;
}

.location-popup .popup-description {
  font-size: 13px;
  color: var(--foreground);
  margin: 0 0 12px 0;
  line-height: 1.5;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.location-popup .popup-address {
  font-size: 12px;
  color: var(--muted-foreground);
  margin: 0 0 12px 0;
  line-height: 1.4;
  display: flex;
  align-items: flex-start;
  gap: 6px;
}

.location-popup .popup-address svg {
  flex-shrink: 0;
  margin-top: 2px;
}

.location-popup .popup-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-bottom: 12px;
}

.location-popup .popup-tag {
  font-size: 11px;
  padding: 4px 8px;
  background-color: var(--muted);
  color: var(--foreground);
  border-radius: 6px;
}

.location-popup .popup-stats {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 12px 0;
  border-top: 1px solid var(--border);
  border-bottom: 1px solid var(--border);
  margin-bottom: 12px;
}

.location-popup .popup-stat {
  display: flex;
  align-items: center;
  gap: 6px;
}

.location-popup .popup-stat-icon {
  color: var(--muted-foreground);
}

.location-popup .popup-stat-value {
  font-size: 13px;
  font-weight: 600;
  color: var(--foreground);
}

.location-popup .popup-stat-label {
  font-size: 11px;
  color: var(--muted-foreground);
}

.location-popup .popup-rating {
  display: flex;
  align-items: center;
  gap: 4px;
}

.location-popup .popup-rating .stars {
  color: #facc15;
  font-size: 14px;
  letter-spacing: -1px;
}

.location-popup .popup-rating .rating-value {
  font-size: 13px;
  font-weight: 600;
  color: var(--foreground);
}

.location-popup .popup-visits {
  font-size: 12px;
  color: var(--muted-foreground);
}

.location-popup .popup-favorite {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: 12px;
  color: #ef4444;
  font-weight: 500;
}

.location-popup .popup-footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.location-popup .popup-date {
  font-size: 11px;
  color: var(--muted-foreground);
}

.dark .location-hover-popup .maplibregl-popup-content {
  box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.5), 0 4px 12px rgba(0, 0, 0, 0.3) !important;
}
</file>

<file path="app/layout.tsx">
import type { Metadata } from "next";
import { Geist, Geist_Mono } from "next/font/google";
import { ThemeProvider } from "@/components/theme-provider";
import "./globals.css";

const geistSans = Geist({
  variable: "--font-sans",
  subsets: ["latin"],
});

const geistMono = Geist_Mono({
  variable: "--font-geist-mono",
  subsets: ["latin"],
});

export const metadata: Metadata = {
  title: "Maps - Square UI",
  description: "A beautiful map explorer with interactive maps by Square UI",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en" suppressHydrationWarning>
      <body
        className={`${geistSans.variable} ${geistMono.variable} antialiased font-sans`}
      >
        <ThemeProvider
          attribute="class"
          defaultTheme="system"
          enableSystem
          disableTransitionOnChange
        >
          {children}
        </ThemeProvider>
      </body>
    </html>
  );
}
</file>

<file path="components/dashboard/map-controls.tsx">
"use client";

import Link from "next/link";
import {
  Plus,
  Minus,
  Locate,
  Compass,
  Github,
  Layers,
  Map,
  Mountain,
  Satellite,
  Circle,
} from "lucide-react";
import { Button } from "@/components/ui/button";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";
import { ThemeToggle } from "@/components/theme-toggle";
import { useMapsStore } from "@/store/maps-store";
import { cn } from "@/lib/utils";

const mapStyles = [
  {
    id: "default",
    name: "Default",
    icon: Circle,
    description: "Follows theme",
  },
  { id: "streets", name: "Streets", icon: Map, description: "Detailed roads" },
  {
    id: "outdoors",
    name: "Outdoors",
    icon: Mountain,
    description: "Terrain & trails",
  },
  {
    id: "satellite",
    name: "Satellite",
    icon: Satellite,
    description: "Aerial view",
  },
] as const;

export function MapControls() {
  const {
    mapZoom,
    setMapZoom,
    setMapCenter,
    setUserLocation,
    userLocation,
    mapStyle,
    setMapStyle,
  } = useMapsStore();

  const handleZoomIn = () => {
    setMapZoom(Math.min(mapZoom + 1, 18));
  };

  const handleZoomOut = () => {
    setMapZoom(Math.max(mapZoom - 1, 3));
  };

  const handleResetView = () => {
    if (userLocation) {
      setMapCenter(userLocation);
      setMapZoom(12);
    } else {
      setMapCenter({ lat: 20, lng: 0 });
      setMapZoom(2);
    }
  };

  const getLocationFromIP = async (): Promise<{
    lat: number;
    lng: number;
  } | null> => {
    try {
      const response = await fetch("https://ipapi.co/json/");
      const data = await response.json();
      if (data.latitude && data.longitude) {
        return { lat: data.latitude, lng: data.longitude };
      }
      return null;
    } catch {
      return null;
    }
  };

  const handleLocate = async () => {
    if (userLocation) {
      setMapCenter(userLocation);
      setMapZoom(15);
      return;
    }

    const tryIPFallback = async () => {
      const ipLocation = await getLocationFromIP();
      if (ipLocation) {
        setUserLocation(ipLocation);
        setMapCenter(ipLocation);
        setMapZoom(15);
      } else {
        alert("Unable to get your location. Please try again later.");
      }
    };

    if (!("geolocation" in navigator)) {
      await tryIPFallback();
      return;
    }

    navigator.geolocation.getCurrentPosition(
      (position) => {
        const location = {
          lat: position.coords.latitude,
          lng: position.coords.longitude,
        };
        setUserLocation(location);
        setMapCenter(location);
        setMapZoom(15);
      },
      () => {
        tryIPFallback();
      },
      { enableHighAccuracy: false, timeout: 5000, maximumAge: 300000 }
    );
  };

  return (
    <>
      <div className="absolute top-4 right-4 z-10 flex flex-col sm:flex-row items-center gap-2">
        <DropdownMenu>
          <DropdownMenuTrigger asChild>
            <Button
              variant="outline"
              size="icon"
              className="bg-background! size-11 shadow-lg"
            >
              <Layers className="size-4" />
            </Button>
          </DropdownMenuTrigger>
          <DropdownMenuContent align="end" className="w-48">
            {mapStyles.map((style) => {
              const Icon = style.icon;
              return (
                <DropdownMenuItem
                  key={style.id}
                  onClick={() => setMapStyle(style.id)}
                  className={cn("gap-3", mapStyle === style.id && "bg-accent")}
                >
                  <Icon className="size-4 shrink-0" />
                  <div className="flex flex-col">
                    <span className="font-medium">{style.name}</span>
                    <span className="text-xs text-muted-foreground">
                      {style.description}
                    </span>
                  </div>
                </DropdownMenuItem>
              );
            })}
          </DropdownMenuContent>
        </DropdownMenu>
        <ThemeToggle className="bg-background! size-11 shadow-lg" />
        <Button
          variant="outline"
          size="icon"
          className="bg-background! size-11 shadow-lg"
          asChild
        >
          <Link
            href="https://github.com/ln-dev7/square-ui/tree/master/templates/maps"
            target="_blank"
            rel="noopener noreferrer"
          >
            <Github className="size-4" />
          </Link>
        </Button>
      </div>

      <div className="absolute bottom-4 right-4 z-10 flex flex-col gap-2">
        <Button
          variant="outline"
          size="icon"
          className="bg-background! size-11 shadow-lg"
          onClick={handleLocate}
        >
          <Locate className="size-4" />
        </Button>
        <Button
          variant="outline"
          size="icon"
          className="bg-background! size-11 shadow-lg"
          onClick={handleResetView}
        >
          <Compass className="size-4" />
        </Button>
        <div className="flex flex-col rounded-lg border bg-background! shadow-lg overflow-hidden">
          <Button
            variant="ghost"
            size="icon"
            className="rounded-none size-11 border-b flex items-center justify-center"
            onClick={handleZoomIn}
          >
            <Plus className="size-4" />
          </Button>
          <Button
            variant="ghost"
            size="icon"
            className="rounded-none size-11 flex items-center justify-center"
            onClick={handleZoomOut}
          >
            <Minus className="size-4" />
          </Button>
        </div>
      </div>
    </>
  );
}
</file>

<file path="components/dashboard/map-view.tsx">
"use client";

import * as React from "react";
import maplibregl from "maplibre-gl";
import "maplibre-gl/dist/maplibre-gl.css";
import { useTheme } from "next-themes";
import { useMapsStore } from "@/store/maps-store";
import { categories, tags as allTags } from "@/mock-data/locations";

const MAP_STYLES = {
  light: "https://basemaps.cartocdn.com/gl/positron-gl-style/style.json",
  dark: "https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json",
  streets: "https://basemaps.cartocdn.com/gl/voyager-gl-style/style.json",
  outdoors: "https://tiles.stadiamaps.com/styles/outdoors.json",
  satellite: "https://tiles.stadiamaps.com/styles/alidade_satellite.json",
};

export function MapView() {
  const containerRef = React.useRef<HTMLDivElement>(null);
  const mapRef = React.useRef<maplibregl.Map | null>(null);
  const markersRef = React.useRef<Map<string, maplibregl.Marker>>(new Map());
  const userMarkerRef = React.useRef<maplibregl.Marker | null>(null);
  const popupRef = React.useRef<maplibregl.Popup | null>(null);
  const isAnimatingRef = React.useRef(false);
  const closeTimeoutRef = React.useRef<NodeJS.Timeout | null>(null);
  const isHoveringPopupRef = React.useRef(false);
  const { resolvedTheme } = useTheme();

  const {
    mapCenter,
    mapZoom,
    mapStyle,
    setMapCenter,
    setMapZoom,
    selectLocation,
    selectedLocationId,
    userLocation,
    routeDestinationId,
    setUserLocation,
    getFilteredLocations,
    locations: allLocations,
  } = useMapsStore();

  const getMapStyleUrl = React.useCallback(() => {
    if (mapStyle === "default") {
      return resolvedTheme === "dark" ? MAP_STYLES.dark : MAP_STYLES.light;
    }
    return MAP_STYLES[mapStyle];
  }, [mapStyle, resolvedTheme]);

  const locations = getFilteredLocations();

  const getTagName = (tagId: string) => {
    return allTags.find((t) => t.id === tagId)?.name || tagId;
  };

  const formatDate = (dateString: string) => {
    const date = new Date(dateString);
    return date.toLocaleDateString("en-US", {
      month: "short",
      day: "numeric",
      year: "numeric",
    });
  };

  React.useEffect(() => {
    const getLocationFromIP = async () => {
      try {
        const response = await fetch("https://ipapi.co/json/");
        const data = await response.json();
        if (data.latitude && data.longitude) {
          const location = { lat: data.latitude, lng: data.longitude };
          setUserLocation(location);
          setMapCenter(location);
        }
      } catch {
        console.log("IP geolocation failed");
      }
    };

    if ("geolocation" in navigator) {
      navigator.geolocation.getCurrentPosition(
        (position) => {
          const location = {
            lat: position.coords.latitude,
            lng: position.coords.longitude,
          };
          setUserLocation(location);
          setMapCenter(location);
        },
        () => {
          getLocationFromIP();
        },
        { enableHighAccuracy: false, timeout: 5000, maximumAge: 300000 }
      );
    } else {
      getLocationFromIP();
    }
  }, [setUserLocation, setMapCenter]);

  const closePopup = React.useCallback(() => {
    if (closeTimeoutRef.current) {
      clearTimeout(closeTimeoutRef.current);
    }
    closeTimeoutRef.current = setTimeout(() => {
      if (!isHoveringPopupRef.current && popupRef.current) {
        popupRef.current.remove();
        popupRef.current = null;
      }
    }, 150);
  }, []);

  React.useEffect(() => {
    if (!containerRef.current || mapRef.current) return;

    const map = new maplibregl.Map({
      container: containerRef.current,
      style: getMapStyleUrl(),
      center: [mapCenter.lng, mapCenter.lat],
      zoom: mapZoom,
      minZoom: 3,
      maxZoom: 18,
      attributionControl: false,
    });

    map.addControl(
      new maplibregl.AttributionControl({ compact: true }),
      "bottom-right"
    );

    map.on("moveend", () => {
      if (isAnimatingRef.current) {
        isAnimatingRef.current = false;
        return;
      }
      const center = map.getCenter();
      const zoom = map.getZoom();
      setMapCenter({ lat: center.lat, lng: center.lng });
      setMapZoom(zoom);
    });

    mapRef.current = map;

    return () => {
      if (closeTimeoutRef.current) {
        clearTimeout(closeTimeoutRef.current);
      }
      map.remove();
      mapRef.current = null;
    };
  }, []);

  React.useEffect(() => {
    if (!mapRef.current) return;
    mapRef.current.setStyle(getMapStyleUrl());
  }, [mapStyle, resolvedTheme, getMapStyleUrl]);

  React.useEffect(() => {
    if (!mapRef.current || !userLocation) return;

    if (userMarkerRef.current) {
      userMarkerRef.current.setLngLat([userLocation.lng, userLocation.lat]);
      return;
    }

    const el = document.createElement("div");
    el.className = "user-marker";
    el.innerHTML = `
      <div class="relative">
        <div class="w-4 h-4 rounded-full bg-blue-500 border-2 border-white shadow-lg"></div>
        <div class="absolute inset-0 w-4 h-4 rounded-full bg-blue-500/50 animate-ping"></div>
      </div>
    `;

    const marker = new maplibregl.Marker({ element: el })
      .setLngLat([userLocation.lng, userLocation.lat])
      .addTo(mapRef.current);

    userMarkerRef.current = marker;
  }, [userLocation]);

  React.useEffect(() => {
    if (!mapRef.current) return;

    markersRef.current.forEach((marker) => marker.remove());
    markersRef.current.clear();

    locations.forEach((location) => {
      const category = categories.find((c) => c.id === location.categoryId);
      const color = category?.color || "#6b7280";
      const isSelected = selectedLocationId === location.id;
      const isRouteDestination = routeDestinationId === location.id;

      const el = document.createElement("div");
      el.className = "marker-container";
      el.innerHTML = `
        <div class="relative cursor-pointer transition-transform ${
          isSelected || isRouteDestination ? "scale-125" : "hover:scale-110"
        }">
          <svg width="32" height="40" viewBox="0 0 32 40" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M16 0C7.164 0 0 7.164 0 16C0 28 16 40 16 40C16 40 32 28 32 16C32 7.164 24.836 0 16 0Z" fill="${
              isRouteDestination ? "#22c55e" : isSelected ? "#3b82f6" : color
            }"/>
            <circle cx="16" cy="14" r="6" fill="white"/>
          </svg>
          ${
            isSelected
              ? '<div class="absolute -bottom-1 left-1/2 -translate-x-1/2 w-4 h-4 rounded-full bg-primary/30 animate-ping"></div>'
              : ""
          }
          ${
            isRouteDestination
              ? '<div class="absolute -top-1 -right-1 w-5 h-5 rounded-full bg-green-500 text-white flex items-center justify-center shadow-md"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><path d="M5 12h14M12 5l7 7-7 7"/></svg></div>'
              : ""
          }
        </div>
      `;

      el.addEventListener("click", () => {
        selectLocation(location.id);
      });

      el.addEventListener("mouseenter", () => {
        if (closeTimeoutRef.current) {
          clearTimeout(closeTimeoutRef.current);
        }

        if (popupRef.current) {
          popupRef.current.remove();
        }

        const stars =
          "★".repeat(Math.floor(location.rating)) +
          "☆".repeat(5 - Math.floor(location.rating));

        const tagsHtml = location.tags
          .slice(0, 4)
          .map((tag) => `<span class="popup-tag">${getTagName(tag)}</span>`)
          .join("");

        const popupContent = `
          <div class="location-popup" data-popup-hover="true">
            <div class="popup-header">
              <div class="popup-icon" style="background-color: ${color}20;">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${color}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/>
                  <circle cx="12" cy="10" r="3"/>
                </svg>
              </div>
              <div class="popup-title-section">
                <h3 class="popup-title">${location.name}</h3>
                <p class="popup-category">${category?.name || "Location"}</p>
              </div>
            </div>
            
            <p class="popup-description">${location.description}</p>
            
            <p class="popup-address">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/>
                <circle cx="12" cy="10" r="3"/>
              </svg>
              ${location.address}
            </p>
            
            ${tagsHtml ? `<div class="popup-tags">${tagsHtml}</div>` : ""}
            
            <div class="popup-stats">
              <div class="popup-stat">
                <span class="popup-rating">
                  <span class="stars">${stars}</span>
                  <span class="rating-value">${location.rating}</span>
                </span>
              </div>
              <div class="popup-stat">
                <svg class="popup-stat-icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                  <circle cx="12" cy="12" r="3"/>
                </svg>
                <span class="popup-stat-value">${location.visitCount}</span>
                <span class="popup-stat-label">visits</span>
              </div>
            </div>
            
            <div class="popup-footer">
              ${
                location.isFavorite
                  ? '<span class="popup-favorite">❤️ Favorite</span>'
                  : "<span></span>"
              }
              <span class="popup-date">Added ${formatDate(location.createdAt)}</span>
            </div>
          </div>
        `;

        const popup = new maplibregl.Popup({
          offset: [0, -35],
          closeButton: false,
          closeOnClick: false,
          className: "location-hover-popup",
          maxWidth: "380px",
        })
          .setLngLat([location.coordinates.lng, location.coordinates.lat])
          .setHTML(popupContent)
          .addTo(mapRef.current!);

        const popupElement = popup.getElement();
        if (popupElement) {
          popupElement.addEventListener("mouseenter", () => {
            isHoveringPopupRef.current = true;
            if (closeTimeoutRef.current) {
              clearTimeout(closeTimeoutRef.current);
            }
          });
          popupElement.addEventListener("mouseleave", () => {
            isHoveringPopupRef.current = false;
            closePopup();
          });
          popupElement.addEventListener("click", () => {
            selectLocation(location.id);
            popup.remove();
            popupRef.current = null;
          });
        }

        popupRef.current = popup;
      });

      el.addEventListener("mouseleave", () => {
        closePopup();
      });

      const marker = new maplibregl.Marker({ element: el })
        .setLngLat([location.coordinates.lng, location.coordinates.lat])
        .addTo(mapRef.current!);

      markersRef.current.set(location.id, marker);
    });
  }, [locations, selectedLocationId, selectLocation, closePopup, routeDestinationId]);

  const routeDataRef = React.useRef<{
    coordinates: [number, number][];
    bounds: maplibregl.LngLatBounds;
  } | null>(null);

  React.useEffect(() => {
    if (!routeDestinationId || !userLocation) {
      routeDataRef.current = null;
      return;
    }

    const destination = allLocations.find((l) => l.id === routeDestinationId);
    if (!destination) {
      routeDataRef.current = null;
      return;
    }

    const fetchRoute = async () => {
      const start = `${userLocation.lng},${userLocation.lat}`;
      const end = `${destination.coordinates.lng},${destination.coordinates.lat}`;

      try {
        const response = await fetch(
          `https://router.project-osrm.org/route/v1/driving/${start};${end}?overview=full&geometries=geojson`
        );
        const data = await response.json();

        if (data.routes && data.routes[0]) {
          const coordinates = data.routes[0].geometry.coordinates as [number, number][];
          const bounds = new maplibregl.LngLatBounds();
          bounds.extend([userLocation.lng, userLocation.lat]);
          bounds.extend([destination.coordinates.lng, destination.coordinates.lat]);
          coordinates.forEach((coord) => bounds.extend(coord));

          routeDataRef.current = { coordinates, bounds };

          const map = mapRef.current;
          if (map) {
            drawRoute(map, coordinates);
            isAnimatingRef.current = true;
            map.fitBounds(bounds, { padding: 80 });
          }
        }
      } catch (error) {
        console.error("Failed to fetch route:", error);
      }
    };

    fetchRoute();
  }, [routeDestinationId, userLocation, allLocations]);

  const drawRoute = React.useCallback((map: maplibregl.Map, coordinates: [number, number][]) => {
    if (map.getLayer("route-line")) map.removeLayer("route-line");
    if (map.getLayer("route-line-outline")) map.removeLayer("route-line-outline");
    if (map.getSource("route")) map.removeSource("route");

    map.addSource("route", {
      type: "geojson",
      data: {
        type: "Feature",
        properties: {},
        geometry: {
          type: "LineString",
          coordinates,
        },
      },
    });

    map.addLayer({
      id: "route-line-outline",
      type: "line",
      source: "route",
      layout: {
        "line-join": "round",
        "line-cap": "round",
      },
      paint: {
        "line-color": "#1d4ed8",
        "line-width": 8,
        "line-opacity": 0.4,
      },
    });

    map.addLayer({
      id: "route-line",
      type: "line",
      source: "route",
      layout: {
        "line-join": "round",
        "line-cap": "round",
      },
      paint: {
        "line-color": "#3b82f6",
        "line-width": 4,
        "line-opacity": 1,
      },
    });
  }, []);

  React.useEffect(() => {
    const map = mapRef.current;
    if (!map) return;

    const clearRoute = () => {
      if (map.getLayer("route-line")) map.removeLayer("route-line");
      if (map.getLayer("route-line-outline")) map.removeLayer("route-line-outline");
      if (map.getSource("route")) map.removeSource("route");
    };

    if (!routeDestinationId) {
      clearRoute();
    }
  }, [routeDestinationId]);

  React.useEffect(() => {
    const map = mapRef.current;
    if (!map) return;

    const handleStyleLoad = () => {
      if (routeDataRef.current && routeDestinationId) {
        drawRoute(map, routeDataRef.current.coordinates);
      }
    };

    map.on("style.load", handleStyleLoad);

    return () => {
      map.off("style.load", handleStyleLoad);
    };
  }, [drawRoute, routeDestinationId]);

  React.useEffect(() => {
    if (!mapRef.current || !selectedLocationId) return;
    if (routeDestinationId) return;

    const location = locations.find((l) => l.id === selectedLocationId);
    if (location) {
      isAnimatingRef.current = true;
      mapRef.current.flyTo({
        center: [location.coordinates.lng, location.coordinates.lat],
        zoom: Math.max(mapRef.current.getZoom(), 14),
        essential: true,
      });
    }
  }, [selectedLocationId, locations, routeDestinationId]);

  const lastCenterRef = React.useRef({
    lat: mapCenter.lat,
    lng: mapCenter.lng,
  });
  const lastZoomRef = React.useRef(mapZoom);

  React.useEffect(() => {
    if (!mapRef.current) return;

    const centerChanged =
      Math.abs(lastCenterRef.current.lat - mapCenter.lat) > 0.0001 ||
      Math.abs(lastCenterRef.current.lng - mapCenter.lng) > 0.0001;
    const zoomChanged = Math.abs(lastZoomRef.current - mapZoom) > 0.1;

    if (centerChanged || zoomChanged) {
      isAnimatingRef.current = true;
      mapRef.current.flyTo({
        center: [mapCenter.lng, mapCenter.lat],
        zoom: mapZoom,
        essential: true,
      });
      lastCenterRef.current = { lat: mapCenter.lat, lng: mapCenter.lng };
      lastZoomRef.current = mapZoom;
    }
  }, [mapCenter, mapZoom]);

  return <div ref={containerRef} className="absolute inset-0 w-full h-full" />;
}
</file>

<file path="components/dashboard/maps-panel.tsx">
"use client";

import * as React from "react";
import {
  MapPin,
  Heart,
  Star,
  Eye,
  Clock,
  Search,
  X,
  Route,
  Loader2,
  Navigation,
  ArrowUpDown,
  ArrowDownAZ,
  ArrowUpAZ,
  CalendarArrowDown,
  CalendarArrowUp,
  TrendingUp,
  Check,
} from "lucide-react";
import { Button } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";
import { Input } from "@/components/ui/input";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";
import { useMapsStore } from "@/store/maps-store";
import {
  categories,
  tags as allTags,
  type Location,
} from "@/mock-data/locations";
import { SidebarTrigger } from "@/components/ui/sidebar";
import { cn } from "@/lib/utils";
import { useMediaQuery } from "usehooks-ts";

type PanelMode = "all" | "favorites" | "recents";

interface MapsPanelProps {
  mode?: PanelMode;
}

const panelConfig = {
  all: {
    title: "All Locations",
    emptyIcon: MapPin,
    emptyTitle: "No locations found",
    emptyDescription: null,
    getSubtitle: (count: number) =>
      `${count} location${count !== 1 ? "s" : ""}`,
  },
  favorites: {
    title: "Favorites",
    emptyIcon: Heart,
    emptyTitle: "No favorites yet",
    emptyDescription:
      "Click the heart icon on a location to add it to favorites",
    getSubtitle: (count: number) =>
      `${count} favorite${count !== 1 ? "s" : ""}`,
  },
  recents: {
    title: "Recent Locations",
    emptyIcon: Clock,
    emptyTitle: "No recent locations",
    emptyDescription: null,
    getSubtitle: (count: number) => `Last ${count} added locations`,
  },
};

function calculateDistance(
  lat1: number,
  lng1: number,
  lat2: number,
  lng2: number
): number {
  const R = 6371;
  const dLat = ((lat2 - lat1) * Math.PI) / 180;
  const dLng = ((lng2 - lng1) * Math.PI) / 180;
  const a =
    Math.sin(dLat / 2) * Math.sin(dLat / 2) +
    Math.cos((lat1 * Math.PI) / 180) *
      Math.cos((lat2 * Math.PI) / 180) *
      Math.sin(dLng / 2) *
      Math.sin(dLng / 2);
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
  return R * c;
}

function formatDistance(km: number): string {
  if (km < 1) {
    return `${Math.round(km * 1000)} m`;
  }
  if (km < 10) {
    return `${km.toFixed(1)} km`;
  }
  return `${Math.round(km)} km`;
}

export function MapsPanel({ mode = "all" }: MapsPanelProps) {
  const scrollContainerRef = React.useRef<HTMLDivElement>(null);
  const [isLoadingRoute, setIsLoadingRoute] = React.useState(false);
  const [isRequestingLocation, setIsRequestingLocation] = React.useState(false);
  const {
    selectedLocationId,
    searchQuery,
    sortBy,
    selectLocation,
    toggleFavorite,
    setSearchQuery,
    setSortBy,
    getFilteredLocations,
    getFavoriteLocations,
    getRecentLocations,
    userLocation,
    routeDestinationId,
    setRouteDestination,
    setUserLocation,
    clearRoute,
    isPanelVisible,
    setPanelVisible,
  } = useMapsStore();

  const isDesktop = useMediaQuery("(min-width: 640px)");

  React.useEffect(() => {
    if (isDesktop && !isPanelVisible) {
      setPanelVisible(true);
    }
  }, [isDesktop, isPanelVisible, setPanelVisible]);

  const getDistance = React.useCallback(
    (location: Location) => {
      if (!userLocation) return null;
      return calculateDistance(
        userLocation.lat,
        userLocation.lng,
        location.coordinates.lat,
        location.coordinates.lng
      );
    },
    [userLocation]
  );

  const getLocationFromIP = React.useCallback(async (): Promise<{
    lat: number;
    lng: number;
  } | null> => {
    try {
      const response = await fetch("https://ipapi.co/json/");
      const data = await response.json();
      if (data.latitude && data.longitude) {
        return { lat: data.latitude, lng: data.longitude };
      }
      return null;
    } catch {
      return null;
    }
  }, []);

  const requestUserLocation = React.useCallback(() => {
    return new Promise<{ lat: number; lng: number } | null>((resolve) => {
      setIsRequestingLocation(true);

      const tryIPFallback = async () => {
        const ipLocation = await getLocationFromIP();
        setIsRequestingLocation(false);
        if (ipLocation) {
          setUserLocation(ipLocation);
          resolve(ipLocation);
        } else {
          alert("Unable to get your location. Please try again later.");
          resolve(null);
        }
      };

      if (!("geolocation" in navigator)) {
        tryIPFallback();
        return;
      }

      navigator.geolocation.getCurrentPosition(
        (position) => {
          const location = {
            lat: position.coords.latitude,
            lng: position.coords.longitude,
          };
          setUserLocation(location);
          setIsRequestingLocation(false);
          resolve(location);
        },
        () => {
          tryIPFallback();
        },
        { enableHighAccuracy: false, timeout: 5000, maximumAge: 300000 }
      );
    });
  }, [setUserLocation, getLocationFromIP]);

  const getLocations = () => {
    switch (mode) {
      case "favorites":
        return getFavoriteLocations();
      case "recents":
        return getRecentLocations();
      default:
        return getFilteredLocations();
    }
  };

  const rawLocations = getLocations();
  const locations = React.useMemo(() => {
    if (!selectedLocationId) return rawLocations;
    const selected = rawLocations.find((l) => l.id === selectedLocationId);
    if (!selected) return rawLocations;
    return [
      selected,
      ...rawLocations.filter((l) => l.id !== selectedLocationId),
    ];
  }, [rawLocations, selectedLocationId]);

  const config = panelConfig[mode];
  const EmptyIcon = config.emptyIcon;

  React.useEffect(() => {
    if (selectedLocationId) {
      const isInList = rawLocations.some((l) => l.id === selectedLocationId);
      if (!isInList) {
        selectLocation(null);
        clearRoute();
      }
    }
  }, [rawLocations, selectedLocationId, selectLocation, clearRoute]);

  React.useEffect(() => {
    if (selectedLocationId && scrollContainerRef.current) {
      scrollContainerRef.current.scrollTo({ top: 0, behavior: "smooth" });
    }
  }, [selectedLocationId]);

  const handleLocationClick = (location: Location) => {
    if (selectedLocationId === location.id) {
      selectLocation(null);
    } else {
      selectLocation(location.id);
    }
  };

  const handleClose = (e: React.MouseEvent) => {
    e.stopPropagation();
    selectLocation(null);
    clearRoute();
  };

  const handleGetDirections = async (
    e: React.MouseEvent,
    location: Location
  ) => {
    e.stopPropagation();

    if (routeDestinationId === location.id) {
      clearRoute();
      return;
    }

    let currentUserLocation = userLocation;

    if (!currentUserLocation) {
      currentUserLocation = await requestUserLocation();
      if (!currentUserLocation) {
        return;
      }
    }

    setIsLoadingRoute(true);
    setRouteDestination(location.id);

    setTimeout(() => {
      setIsLoadingRoute(false);
    }, 1500);
  };

  const formatDate = (dateString: string) => {
    const date = new Date(dateString);
    const now = new Date();
    const diffTime = Math.abs(now.getTime() - date.getTime());
    const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));

    if (diffDays === 0) return "Today";
    if (diffDays === 1) return "Yesterday";
    if (diffDays < 7) return `${diffDays} days ago`;
    if (diffDays < 30) return `${Math.floor(diffDays / 7)} weeks ago`;
    return date.toLocaleDateString();
  };

  const getTagName = (tagId: string) => {
    return allTags.find((t) => t.id === tagId)?.name || tagId;
  };

  if (!isPanelVisible) {
    return (
      <Button
        variant="outline"
        size="icon"
        className="absolute left-4 top-4 z-20 sm:hidden size-10 bg-background! shadow-xl"
        onClick={() => setPanelVisible(true)}
      >
        <MapPin className="size-5" />
      </Button>
    );
  }

  return (
    <div className="absolute left-4 top-4 bottom-4 z-20 flex flex-col bg-background rounded-xl shadow-xl border overflow-hidden w-80 sm:w-[400px]">
      <div className="p-3 border-b flex items-center justify-between">
        <div className="">
          <h2 className="font-semibold flex items-center gap-2">
            {mode === "recents" && <Clock className="size-4" />}
            {config.title}
          </h2>
          <p className="text-xs text-muted-foreground">
            {config.getSubtitle(locations.length)}
          </p>
        </div>
        <div className="flex items-center gap-1">
          <SidebarTrigger className="size-7" />
          <Button
            variant="ghost"
            size="icon"
            className="size-7 sm:hidden"
            onClick={() => setPanelVisible(false)}
          >
            <X className="size-4" />
          </Button>
        </div>
      </div>

      <div className="p-2 border-b">
        <div className="flex items-center gap-2">
          <div className="relative flex-1">
            <Search className="absolute left-2.5 top-1/2 -translate-y-1/2 size-4 text-muted-foreground" />
            <Input
              placeholder="Search locations..."
              value={searchQuery}
              onChange={(e) => setSearchQuery(e.target.value)}
              className={cn("pl-8 h-9", searchQuery && "pr-8")}
            />
            {searchQuery && (
              <Button
                variant="ghost"
                size="icon"
                className="absolute right-1 top-1/2 -translate-y-1/2 size-7"
                onClick={() => setSearchQuery("")}
              >
                <X className="size-3.5" />
              </Button>
            )}
          </div>
          <DropdownMenu>
            <DropdownMenuTrigger asChild>
              <Button variant="outline" size="icon" className="size-9 shrink-0">
                <ArrowUpDown className="size-4" />
              </Button>
            </DropdownMenuTrigger>
            <DropdownMenuContent align="end" className="w-48">
              <DropdownMenuItem
                onClick={() => setSortBy("nearest")}
                className="gap-2"
              >
                <Navigation className="size-4" />
                <span className="flex-1">Nearest</span>
                {sortBy === "nearest" && <Check className="size-4" />}
              </DropdownMenuItem>
              <DropdownMenuItem
                onClick={() => setSortBy("rating")}
                className="gap-2"
              >
                <Star className="size-4" />
                <span className="flex-1">Best rated</span>
                {sortBy === "rating" && <Check className="size-4" />}
              </DropdownMenuItem>
              <DropdownMenuItem
                onClick={() => setSortBy("visits")}
                className="gap-2"
              >
                <TrendingUp className="size-4" />
                <span className="flex-1">Most visited</span>
                {sortBy === "visits" && <Check className="size-4" />}
              </DropdownMenuItem>
              <DropdownMenuItem
                onClick={() => setSortBy("date-newest")}
                className="gap-2"
              >
                <CalendarArrowDown className="size-4" />
                <span className="flex-1">Newest first</span>
                {sortBy === "date-newest" && <Check className="size-4" />}
              </DropdownMenuItem>
              <DropdownMenuItem
                onClick={() => setSortBy("date-oldest")}
                className="gap-2"
              >
                <CalendarArrowUp className="size-4" />
                <span className="flex-1">Oldest first</span>
                {sortBy === "date-oldest" && <Check className="size-4" />}
              </DropdownMenuItem>
              <DropdownMenuItem
                onClick={() => setSortBy("alpha-az")}
                className="gap-2"
              >
                <ArrowDownAZ className="size-4" />
                <span className="flex-1">A to Z</span>
                {sortBy === "alpha-az" && <Check className="size-4" />}
              </DropdownMenuItem>
              <DropdownMenuItem
                onClick={() => setSortBy("alpha-za")}
                className="gap-2"
              >
                <ArrowUpAZ className="size-4" />
                <span className="flex-1">Z to A</span>
                {sortBy === "alpha-za" && <Check className="size-4" />}
              </DropdownMenuItem>
            </DropdownMenuContent>
          </DropdownMenu>
        </div>
      </div>

      <div ref={scrollContainerRef} className="flex-1 overflow-y-auto">
        <div className="p-2 space-y-2">
          {locations.length === 0 ? (
            <div className="flex flex-col items-center justify-center py-12 text-center">
              <EmptyIcon className="size-8 text-muted-foreground mb-2" />
              <p className="text-sm font-medium">{config.emptyTitle}</p>
              {config.emptyDescription && (
                <p className="text-xs text-muted-foreground mt-1">
                  {config.emptyDescription}
                </p>
              )}
            </div>
          ) : (
            locations.map((location) => {
              const category = categories.find(
                (c) => c.id === location.categoryId
              );
              const isSelected = selectedLocationId === location.id;
              const isRouteActive = routeDestinationId === location.id;

              if (isSelected) {
                return (
                  <div
                    key={location.id}
                    className={cn(
                      "flex flex-col rounded-lg border-2 overflow-hidden",
                      isRouteActive
                        ? "border-green-500 bg-green-500/10"
                        : "border-primary bg-accent/30"
                    )}
                  >
                    <div className="p-4">
                      <div className="flex items-start justify-between mb-3">
                        <div className="flex items-start gap-3">
                          <div
                            className="flex size-11 shrink-0 items-center justify-center rounded-lg"
                            style={{ backgroundColor: `${category?.color}20` }}
                          >
                            <MapPin
                              className="size-5"
                              style={{ color: category?.color }}
                            />
                          </div>
                          <div>
                            <div className="flex items-center gap-2">
                              <h3 className="font-semibold text-base">
                                {location.name}
                              </h3>
                              {location.isFavorite && (
                                <Heart className="size-4 fill-red-500 text-red-500 shrink-0" />
                              )}
                            </div>
                            <p className="text-sm text-muted-foreground">
                              {category?.name}
                            </p>
                          </div>
                        </div>
                        <Button
                          variant="ghost"
                          size="icon"
                          className="size-8 shrink-0"
                          onClick={handleClose}
                        >
                          <X className="size-4" />
                        </Button>
                      </div>

                      <p className="text-sm text-muted-foreground mb-3">
                        {location.address}
                      </p>

                      <p className="text-sm mb-4">{location.description}</p>

                      <div className="flex items-center flex-wrap gap-4 mb-4">
                        {userLocation && (
                          <div className="flex items-center gap-1.5">
                            <Navigation className="size-4 text-primary" />
                            <span className="font-semibold text-primary">
                              {formatDistance(getDistance(location) || 0)}
                            </span>
                          </div>
                        )}
                        <div className="flex items-center gap-1.5">
                          <Star className="size-4 fill-yellow-400 text-yellow-400" />
                          <span className="font-semibold">
                            {location.rating}
                          </span>
                          <span className="text-sm text-muted-foreground">
                            /5
                          </span>
                        </div>
                        <div className="flex items-center gap-1.5">
                          <Eye className="size-4 text-muted-foreground" />
                          <span className="text-sm text-muted-foreground">
                            {location.visitCount} visits
                          </span>
                        </div>
                        <div className="flex items-center gap-1.5">
                          <Clock className="size-4 text-muted-foreground" />
                          <span className="text-sm text-muted-foreground">
                            {formatDate(location.createdAt)}
                          </span>
                        </div>
                      </div>

                      {location.tags.length > 0 && (
                        <div className="flex flex-wrap gap-1.5 mb-4">
                          {location.tags.map((tag) => (
                            <Badge
                              key={tag}
                              variant="secondary"
                              className="text-xs"
                            >
                              {getTagName(tag)}
                            </Badge>
                          ))}
                        </div>
                      )}

                      <div className="flex items-center gap-2">
                        <Button
                          variant="outline"
                          size="sm"
                          className="flex-1"
                          onClick={(e) => {
                            e.stopPropagation();
                            toggleFavorite(location.id);
                          }}
                        >
                          <Heart
                            className={cn(
                              "size-4 mr-2",
                              location.isFavorite && "fill-red-500 text-red-500"
                            )}
                          />
                          {location.isFavorite ? "Unfavorite" : "Favorite"}
                        </Button>
                        <Button
                          size="sm"
                          className={cn(
                            "flex-1",
                            isRouteActive
                              ? "bg-green-500 hover:bg-green-600"
                              : ""
                          )}
                          onClick={(e) => handleGetDirections(e, location)}
                          disabled={isLoadingRoute || isRequestingLocation}
                        >
                          {isLoadingRoute || isRequestingLocation ? (
                            <Loader2 className="size-4 mr-2 animate-spin" />
                          ) : (
                            <Route className="size-4 mr-2" />
                          )}
                          {isRequestingLocation
                            ? "Getting location..."
                            : isRouteActive
                            ? "Clear route"
                            : "Get directions"}
                        </Button>
                      </div>
                    </div>
                  </div>
                );
              }

              return (
                <div
                  key={location.id}
                  className={cn(
                    "group flex flex-col gap-2 rounded-lg border p-3 cursor-pointer transition-colors hover:bg-accent/50",
                    routeDestinationId === location.id &&
                      "border-green-500 bg-green-500/10"
                  )}
                  onClick={() => handleLocationClick(location)}
                >
                  <div className="flex items-start gap-3">
                    <div
                      className="flex size-9 shrink-0 items-center justify-center rounded-lg"
                      style={{ backgroundColor: `${category?.color}20` }}
                    >
                      <MapPin
                        className="size-4"
                        style={{ color: category?.color }}
                      />
                    </div>
                    <div className="flex-1 min-w-0">
                      <div className="flex items-center gap-2">
                        <h3 className="font-medium text-sm truncate">
                          {location.name}
                        </h3>
                        {location.isFavorite && (
                          <Heart className="size-3 fill-red-500 text-red-500 shrink-0" />
                        )}
                        {routeDestinationId === location.id && (
                          <Badge
                            variant="secondary"
                            className="text-[10px] h-5 bg-green-500/20 text-green-600"
                          >
                            Route active
                          </Badge>
                        )}
                      </div>
                      <p className="text-xs text-muted-foreground truncate">
                        {location.address}
                      </p>
                    </div>
                    <div className="flex items-center gap-1 shrink-0">
                      <Star className="size-3 fill-yellow-400 text-yellow-400" />
                      <span className="text-xs font-medium">
                        {location.rating}
                      </span>
                    </div>
                  </div>

                  <div className="flex items-center justify-between">
                    <div className="flex items-center gap-3">
                      {userLocation && (
                        <div className="flex items-center gap-1">
                          <Navigation className="size-3 text-muted-foreground" />
                          <span className="text-xs text-muted-foreground font-medium">
                            {formatDistance(getDistance(location) || 0)}
                          </span>
                        </div>
                      )}
                      {mode === "recents" && (
                        <div className="flex items-center gap-1">
                          <Clock className="size-3 text-muted-foreground" />
                          <span className="text-xs text-muted-foreground">
                            {formatDate(location.createdAt)}
                          </span>
                        </div>
                      )}
                      <div className="flex items-center gap-1">
                        <Eye className="size-3 text-muted-foreground" />
                        <span className="text-xs text-muted-foreground">
                          {location.visitCount} {mode !== "recents" && "visits"}
                        </span>
                      </div>
                    </div>
                    <div className="flex items-center gap-0.5">
                      <Button
                        variant="ghost"
                        size="icon"
                        className="size-7"
                        onClick={(e) => {
                          e.stopPropagation();
                          toggleFavorite(location.id);
                        }}
                      >
                        <Heart
                          className={cn(
                            "size-3.5",
                            location.isFavorite && "fill-red-500 text-red-500"
                          )}
                        />
                      </Button>
                      <Button
                        variant="ghost"
                        size="icon"
                        className={cn(
                          "size-7",
                          routeDestinationId === location.id && "text-green-500"
                        )}
                        onClick={(e) => handleGetDirections(e, location)}
                      >
                        <Route className="size-3.5" />
                      </Button>
                    </div>
                  </div>

                  {location.tags.length > 0 && (
                    <div className="flex flex-wrap gap-1">
                      {location.tags.slice(0, 3).map((tag) => (
                        <Badge
                          key={tag}
                          variant="secondary"
                          className="text-[10px] h-5"
                        >
                          {getTagName(tag)}
                        </Badge>
                      ))}
                      {location.tags.length > 3 && (
                        <Badge variant="outline" className="text-[10px] h-5">
                          +{location.tags.length - 3}
                        </Badge>
                      )}
                    </div>
                  )}
                </div>
              );
            })
          )}
        </div>
      </div>
    </div>
  );
}
</file>

<file path="components/dashboard/sidebar.tsx">
"use client";

import Link from "next/link";
import { usePathname } from "next/navigation";
import {
  Sidebar,
  SidebarContent,
  SidebarFooter,
  SidebarGroup,
  SidebarGroupContent,
  SidebarGroupLabel,
  SidebarHeader,
  SidebarMenu,
  SidebarMenuBadge,
  SidebarMenuButton,
  SidebarMenuItem,
} from "@/components/ui/sidebar";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";
import {
  MapPin,
  Heart,
  Clock,
  Settings,
  ChevronsUpDown,
  LogOut,
  Utensils,
  Coffee,
  Wine,
  Trees,
  Landmark,
  ShoppingBag,
  Bed,
  Dumbbell,
} from "lucide-react";
import { Button } from "@/components/ui/button";
import { useMapsStore } from "@/store/maps-store";
import { categories } from "@/mock-data/locations";

const navItems = [
  { id: "all", title: "All Locations", icon: MapPin, href: "/" },
  { id: "favorites", title: "Favorites", icon: Heart, href: "/favorites" },
  { id: "recents", title: "Recents", icon: Clock, href: "/recents" },
];

const iconMap: Record<
  string,
  React.ComponentType<{ className?: string; style?: React.CSSProperties }>
> = {
  utensils: Utensils,
  coffee: Coffee,
  wine: Wine,
  trees: Trees,
  landmark: Landmark,
  "shopping-bag": ShoppingBag,
  bed: Bed,
  dumbbell: Dumbbell,
};

export function LocationsSidebar({
  ...props
}: React.ComponentProps<typeof Sidebar>) {
  const pathname = usePathname();
  const {
    locations,
    selectedCategory,
    setSelectedCategory,
    getRecentLocations,
  } = useMapsStore();

  const favoriteCount = locations.filter((l) => l.isFavorite).length;
  const recentCount = getRecentLocations().length;

  const getCategoryCount = (categoryId: string) => {
    if (categoryId === "all") return locations.length;
    return locations.filter((l) => l.categoryId === categoryId).length;
  };

  return (
    <Sidebar collapsible="offcanvas" {...props}>
      <SidebarHeader className="px-2.5 py-3">
        <DropdownMenu>
          <DropdownMenuTrigger asChild>
            <button className="flex items-center gap-2.5 w-full hover:bg-sidebar-accent rounded-md p-1 -m-1 transition-colors shrink-0">
              <div className="flex size-7 items-center justify-center rounded-lg bg-foreground text-background shrink-0">
                <MapPin className="size-4" />
              </div>
              <div className="flex items-center gap-1 group-data-[collapsible=icon]:hidden">
                <span className="text-sm font-medium">Square UI - Maps</span>
                <ChevronsUpDown className="size-3 text-muted-foreground" />
              </div>
            </button>
          </DropdownMenuTrigger>
          <DropdownMenuContent align="start" className="w-56">
            <DropdownMenuItem>
              <Settings className="size-4" />
              <span>Settings</span>
            </DropdownMenuItem>
            <DropdownMenuSeparator />
            <DropdownMenuItem className="text-destructive focus:text-destructive">
              <LogOut className="size-4" />
              <span>Log out</span>
            </DropdownMenuItem>
          </DropdownMenuContent>
        </DropdownMenu>
      </SidebarHeader>

      <SidebarContent className="px-2.5">
        <SidebarGroup className="p-0">
          <SidebarGroupContent>
            <SidebarMenu>
              {navItems.map((item) => {
                const isActive = pathname === item.href;
                let badge: number | undefined;
                if (item.id === "favorites") badge = favoriteCount;
                if (item.id === "recents") badge = recentCount;
                if (item.id === "all") badge = locations.length;

                return (
                  <SidebarMenuItem key={item.id}>
                    <SidebarMenuButton
                      asChild
                      isActive={isActive}
                      className="h-8"
                    >
                      <Link href={item.href}>
                        <item.icon className="size-4" />
                        <span className="text-sm">{item.title}</span>
                      </Link>
                    </SidebarMenuButton>
                    {badge !== undefined && badge > 0 && (
                      <SidebarMenuBadge>{badge}</SidebarMenuBadge>
                    )}
                  </SidebarMenuItem>
                );
              })}
            </SidebarMenu>
          </SidebarGroupContent>
        </SidebarGroup>

        <SidebarGroup className="p-0 mt-4">
          <SidebarGroupLabel className="px-0 h-6">
            <span className="text-[10px] font-medium tracking-wider text-muted-foreground uppercase">
              Categories
            </span>
          </SidebarGroupLabel>
          <SidebarGroupContent>
            <SidebarMenu>
              <SidebarMenuItem>
                <SidebarMenuButton
                  isActive={selectedCategory === "all"}
                  onClick={() => setSelectedCategory("all")}
                  className="h-7"
                >
                  <MapPin className="size-3.5" />
                  <span className="text-sm">All</span>
                </SidebarMenuButton>
                <SidebarMenuBadge>{getCategoryCount("all")}</SidebarMenuBadge>
              </SidebarMenuItem>
              {categories.map((category) => {
                const Icon = iconMap[category.icon] || MapPin;
                const count = getCategoryCount(category.id);

                return (
                  <SidebarMenuItem key={category.id}>
                    <SidebarMenuButton
                      isActive={selectedCategory === category.id}
                      onClick={() => setSelectedCategory(category.id)}
                      className="h-7"
                    >
                      <Icon
                        className="size-3.5"
                        style={{ color: category.color }}
                      />
                      <span className="text-sm">{category.name}</span>
                    </SidebarMenuButton>
                    {count > 0 && <SidebarMenuBadge>{count}</SidebarMenuBadge>}
                  </SidebarMenuItem>
                );
              })}
            </SidebarMenu>
          </SidebarGroupContent>
        </SidebarGroup>
      </SidebarContent>

      <SidebarFooter className="px-2.5 pb-3">
        <div className="group-data-[collapsible=icon]:hidden space-y-3">
          <p className="text-center text-[11px] text-muted-foreground">
            Map powered by{" "}
            <Link
              href="https://mapcn.vercel.app/"
              target="_blank"
              rel="noopener noreferrer"
              className="underline hover:text-foreground transition-colors"
            >
              mapcn
            </Link>{" "}
            by{" "}
            <Link
              href="https://x.com/sainianmol16"
              target="_blank"
              rel="noopener noreferrer"
              className="underline hover:text-foreground transition-colors"
            >
              @sainianmol16
            </Link>
          </p>
          <p className="text-center text-[11px] text-muted-foreground">
            Map powered by{" "}
            <Link
              href="https://mapcn.vercel.app/"
              target="_blank"
              rel="noopener noreferrer"
              className="underline hover:text-foreground transition-colors"
            >
              mapcn
            </Link>{" "}
            by{" "}
            <Link
              href="https://x.com/sainianmol16"
              target="_blank"
              rel="noopener noreferrer"
              className="underline hover:text-foreground transition-colors"
            >
              @sainianmol16
            </Link>
          </p>
          <div className="group/sidebar relative flex flex-col gap-2 rounded-lg border p-4 text-sm w-full bg-background">
            <div className="text-balance text-lg font-semibold leading-tight group-hover/sidebar:underline">
              Open-source layouts by lndev-ui
            </div>
            <div className="text-muted-foreground text-xs">
              Collection of beautifully crafted open-source layouts UI built
              with shadcn/ui.
            </div>
            <Link
              target="_blank"
              rel="noreferrer"
              className="absolute inset-0"
              href="https://square.lndev.me"
            >
              <span className="sr-only">Square by lndev-ui</span>
            </Link>
            <Button size="sm" className="w-full" asChild>
              <Link
                href="https://square.lndev.me"
                target="_blank"
                rel="noopener noreferrer"
              >
                square.lndev.me
              </Link>
            </Button>
          </div>
        </div>
      </SidebarFooter>
    </Sidebar>
  );
}
</file>

<file path="components/ui/badge.tsx">
import * as React from "react"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const badgeVariants = cva(
  "inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",
  {
    variants: {
      variant: {
        default:
          "border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",
        secondary:
          "border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",
        destructive:
          "border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",
        outline: "text-foreground",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

export interface BadgeProps
  extends React.HTMLAttributes<HTMLDivElement>,
    VariantProps<typeof badgeVariants> {}

function Badge({ className, variant, ...props }: BadgeProps) {
  return (
    <div className={cn(badgeVariants({ variant }), className)} {...props} />
  )
}

export { Badge, badgeVariants }
</file>

<file path="components/ui/button.tsx">
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const buttonVariants = cva(
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/90",
        destructive:
          "bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",
        outline:
          "border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",
        secondary:
          "bg-secondary text-secondary-foreground hover:bg-secondary/80",
        ghost:
          "hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-9 px-4 py-2 has-[>svg]:px-3",
        sm: "h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",
        lg: "h-10 rounded-md px-6 has-[>svg]:px-4",
        icon: "size-9",
        "icon-xs": "size-7",
        "icon-sm": "size-8",
        "icon-lg": "size-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

function Button({
  className,
  variant = "default",
  size = "default",
  asChild = false,
  ...props
}: React.ComponentProps<"button"> &
  VariantProps<typeof buttonVariants> & {
    asChild?: boolean
  }) {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      data-slot="button"
      data-variant={variant}
      data-size={size}
      className={cn(buttonVariants({ variant, size, className }))}
      {...props}
    />
  )
}

export { Button, buttonVariants }
</file>

<file path="components/ui/collapsible.tsx">
"use client"

import * as CollapsiblePrimitive from "@radix-ui/react-collapsible"

function Collapsible({
  ...props
}: React.ComponentProps<typeof CollapsiblePrimitive.Root>) {
  return <CollapsiblePrimitive.Root data-slot="collapsible" {...props} />
}

function CollapsibleTrigger({
  ...props
}: React.ComponentProps<typeof CollapsiblePrimitive.CollapsibleTrigger>) {
  return (
    <CollapsiblePrimitive.CollapsibleTrigger
      data-slot="collapsible-trigger"
      {...props}
    />
  )
}

function CollapsibleContent({
  ...props
}: React.ComponentProps<typeof CollapsiblePrimitive.CollapsibleContent>) {
  return (
    <CollapsiblePrimitive.CollapsibleContent
      data-slot="collapsible-content"
      {...props}
    />
  )
}

export { Collapsible, CollapsibleTrigger, CollapsibleContent }
</file>

<file path="components/ui/dropdown-menu.tsx">
"use client"

import * as React from "react"
import * as DropdownMenuPrimitive from "@radix-ui/react-dropdown-menu"
import { CheckIcon, ChevronRightIcon, CircleIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function DropdownMenu({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {
  return <DropdownMenuPrimitive.Root data-slot="dropdown-menu" {...props} />
}

function DropdownMenuPortal({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {
  return (
    <DropdownMenuPrimitive.Portal data-slot="dropdown-menu-portal" {...props} />
  )
}

function DropdownMenuTrigger({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {
  return (
    <DropdownMenuPrimitive.Trigger
      data-slot="dropdown-menu-trigger"
      {...props}
    />
  )
}

function DropdownMenuContent({
  className,
  sideOffset = 4,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {
  return (
    <DropdownMenuPrimitive.Portal>
      <DropdownMenuPrimitive.Content
        data-slot="dropdown-menu-content"
        sideOffset={sideOffset}
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",
          className
        )}
        {...props}
      />
    </DropdownMenuPrimitive.Portal>
  )
}

function DropdownMenuGroup({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {
  return (
    <DropdownMenuPrimitive.Group data-slot="dropdown-menu-group" {...props} />
  )
}

function DropdownMenuItem({
  className,
  inset,
  variant = "default",
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {
  inset?: boolean
  variant?: "default" | "destructive"
}) {
  return (
    <DropdownMenuPrimitive.Item
      data-slot="dropdown-menu-item"
      data-inset={inset}
      data-variant={variant}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    />
  )
}

function DropdownMenuCheckboxItem({
  className,
  children,
  checked,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {
  return (
    <DropdownMenuPrimitive.CheckboxItem
      data-slot="dropdown-menu-checkbox-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      checked={checked}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <DropdownMenuPrimitive.ItemIndicator>
          <CheckIcon className="size-4" />
        </DropdownMenuPrimitive.ItemIndicator>
      </span>
      {children}
    </DropdownMenuPrimitive.CheckboxItem>
  )
}

function DropdownMenuRadioGroup({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {
  return (
    <DropdownMenuPrimitive.RadioGroup
      data-slot="dropdown-menu-radio-group"
      {...props}
    />
  )
}

function DropdownMenuRadioItem({
  className,
  children,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {
  return (
    <DropdownMenuPrimitive.RadioItem
      data-slot="dropdown-menu-radio-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <DropdownMenuPrimitive.ItemIndicator>
          <CircleIcon className="size-2 fill-current" />
        </DropdownMenuPrimitive.ItemIndicator>
      </span>
      {children}
    </DropdownMenuPrimitive.RadioItem>
  )
}

function DropdownMenuLabel({
  className,
  inset,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {
  inset?: boolean
}) {
  return (
    <DropdownMenuPrimitive.Label
      data-slot="dropdown-menu-label"
      data-inset={inset}
      className={cn(
        "px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",
        className
      )}
      {...props}
    />
  )
}

function DropdownMenuSeparator({
  className,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {
  return (
    <DropdownMenuPrimitive.Separator
      data-slot="dropdown-menu-separator"
      className={cn("bg-border -mx-1 my-1 h-px", className)}
      {...props}
    />
  )
}

function DropdownMenuShortcut({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="dropdown-menu-shortcut"
      className={cn(
        "text-muted-foreground ml-auto text-xs tracking-widest",
        className
      )}
      {...props}
    />
  )
}

function DropdownMenuSub({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {
  return <DropdownMenuPrimitive.Sub data-slot="dropdown-menu-sub" {...props} />
}

function DropdownMenuSubTrigger({
  className,
  inset,
  children,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {
  inset?: boolean
}) {
  return (
    <DropdownMenuPrimitive.SubTrigger
      data-slot="dropdown-menu-sub-trigger"
      data-inset={inset}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    >
      {children}
      <ChevronRightIcon className="ml-auto size-4" />
    </DropdownMenuPrimitive.SubTrigger>
  )
}

function DropdownMenuSubContent({
  className,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {
  return (
    <DropdownMenuPrimitive.SubContent
      data-slot="dropdown-menu-sub-content"
      className={cn(
        "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",
        className
      )}
      {...props}
    />
  )
}

export {
  DropdownMenu,
  DropdownMenuPortal,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuGroup,
  DropdownMenuLabel,
  DropdownMenuItem,
  DropdownMenuCheckboxItem,
  DropdownMenuRadioGroup,
  DropdownMenuRadioItem,
  DropdownMenuSeparator,
  DropdownMenuShortcut,
  DropdownMenuSub,
  DropdownMenuSubTrigger,
  DropdownMenuSubContent,
}
</file>

<file path="components/ui/input.tsx">
import * as React from "react"

import { cn } from "@/lib/utils"

function Input({ className, type, ...props }: React.ComponentProps<"input">) {
  return (
    <input
      type={type}
      data-slot="input"
      className={cn(
        "file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
        "focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]",
        "aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",
        className
      )}
      {...props}
    />
  )
}

export { Input }
</file>

<file path="components/ui/separator.tsx">
"use client"

import * as React from "react"
import * as SeparatorPrimitive from "@radix-ui/react-separator"

import { cn } from "@/lib/utils"

function Separator({
  className,
  orientation = "horizontal",
  decorative = true,
  ...props
}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {
  return (
    <SeparatorPrimitive.Root
      data-slot="separator"
      decorative={decorative}
      orientation={orientation}
      className={cn(
        "bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",
        className
      )}
      {...props}
    />
  )
}

export { Separator }
</file>

<file path="components/ui/sheet.tsx">
"use client"

import * as React from "react"
import * as SheetPrimitive from "@radix-ui/react-dialog"
import { XIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function Sheet({ ...props }: React.ComponentProps<typeof SheetPrimitive.Root>) {
  return <SheetPrimitive.Root data-slot="sheet" {...props} />
}

function SheetTrigger({
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Trigger>) {
  return <SheetPrimitive.Trigger data-slot="sheet-trigger" {...props} />
}

function SheetClose({
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Close>) {
  return <SheetPrimitive.Close data-slot="sheet-close" {...props} />
}

function SheetPortal({
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Portal>) {
  return <SheetPrimitive.Portal data-slot="sheet-portal" {...props} />
}

function SheetOverlay({
  className,
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Overlay>) {
  return (
    <SheetPrimitive.Overlay
      data-slot="sheet-overlay"
      className={cn(
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",
        className
      )}
      {...props}
    />
  )
}

function SheetContent({
  className,
  children,
  side = "right",
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Content> & {
  side?: "top" | "right" | "bottom" | "left"
}) {
  return (
    <SheetPortal>
      <SheetOverlay />
      <SheetPrimitive.Content
        data-slot="sheet-content"
        className={cn(
          "bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",
          side === "right" &&
            "data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",
          side === "left" &&
            "data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",
          side === "top" &&
            "data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",
          side === "bottom" &&
            "data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",
          className
        )}
        {...props}
      >
        {children}
        <SheetPrimitive.Close className="ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none">
          <XIcon className="size-4" />
          <span className="sr-only">Close</span>
        </SheetPrimitive.Close>
      </SheetPrimitive.Content>
    </SheetPortal>
  )
}

function SheetHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sheet-header"
      className={cn("flex flex-col gap-1.5 p-4", className)}
      {...props}
    />
  )
}

function SheetFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sheet-footer"
      className={cn("mt-auto flex flex-col gap-2 p-4", className)}
      {...props}
    />
  )
}

function SheetTitle({
  className,
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Title>) {
  return (
    <SheetPrimitive.Title
      data-slot="sheet-title"
      className={cn("text-foreground font-semibold", className)}
      {...props}
    />
  )
}

function SheetDescription({
  className,
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Description>) {
  return (
    <SheetPrimitive.Description
      data-slot="sheet-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  )
}

export {
  Sheet,
  SheetTrigger,
  SheetClose,
  SheetContent,
  SheetHeader,
  SheetFooter,
  SheetTitle,
  SheetDescription,
}
</file>

<file path="components/ui/sidebar.tsx">
"use client"

import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"
import { PanelLeftIcon } from "lucide-react"

import { useIsMobile } from "@/hooks/use-mobile"
import { cn } from "@/lib/utils"
import { Button } from "@/components/ui/button"
import { Input } from "@/components/ui/input"
import { Separator } from "@/components/ui/separator"
import {
  Sheet,
  SheetContent,
  SheetDescription,
  SheetHeader,
  SheetTitle,
} from "@/components/ui/sheet"
import { Skeleton } from "@/components/ui/skeleton"
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from "@/components/ui/tooltip"

const SIDEBAR_COOKIE_NAME = "sidebar_state"
const SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7
const SIDEBAR_WIDTH = "16rem"
const SIDEBAR_WIDTH_MOBILE = "18rem"
const SIDEBAR_WIDTH_ICON = "3rem"
const SIDEBAR_KEYBOARD_SHORTCUT = "b"

type SidebarContextProps = {
  state: "expanded" | "collapsed"
  open: boolean
  setOpen: (open: boolean) => void
  openMobile: boolean
  setOpenMobile: (open: boolean) => void
  isMobile: boolean
  toggleSidebar: () => void
}

const SidebarContext = React.createContext<SidebarContextProps | null>(null)

function useSidebar() {
  const context = React.useContext(SidebarContext)
  if (!context) {
    throw new Error("useSidebar must be used within a SidebarProvider.")
  }

  return context
}

function SidebarProvider({
  defaultOpen = true,
  open: openProp,
  onOpenChange: setOpenProp,
  className,
  style,
  children,
  ...props
}: React.ComponentProps<"div"> & {
  defaultOpen?: boolean
  open?: boolean
  onOpenChange?: (open: boolean) => void
}) {
  const isMobile = useIsMobile()
  const [openMobile, setOpenMobile] = React.useState(false)

  const [_open, _setOpen] = React.useState(defaultOpen)
  const open = openProp ?? _open
  const setOpen = React.useCallback(
    (value: boolean | ((value: boolean) => boolean)) => {
      const openState = typeof value === "function" ? value(open) : value
      if (setOpenProp) {
        setOpenProp(openState)
      } else {
        _setOpen(openState)
      }

      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`
    },
    [setOpenProp, open]
  )

  const toggleSidebar = React.useCallback(() => {
    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)
  }, [isMobile, setOpen, setOpenMobile])

  React.useEffect(() => {
    const handleKeyDown = (event: KeyboardEvent) => {
      if (
        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&
        (event.metaKey || event.ctrlKey)
      ) {
        event.preventDefault()
        toggleSidebar()
      }
    }

    window.addEventListener("keydown", handleKeyDown)
    return () => window.removeEventListener("keydown", handleKeyDown)
  }, [toggleSidebar])

  const state = open ? "expanded" : "collapsed"

  const contextValue = React.useMemo<SidebarContextProps>(
    () => ({
      state,
      open,
      setOpen,
      isMobile,
      openMobile,
      setOpenMobile,
      toggleSidebar,
    }),
    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]
  )

  return (
    <SidebarContext.Provider value={contextValue}>
      <TooltipProvider delayDuration={0}>
        <div
          data-slot="sidebar-wrapper"
          style={
            {
              "--sidebar-width": SIDEBAR_WIDTH,
              "--sidebar-width-icon": SIDEBAR_WIDTH_ICON,
              ...style,
            } as React.CSSProperties
          }
          className={cn(
            "group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",
            className
          )}
          {...props}
        >
          {children}
        </div>
      </TooltipProvider>
    </SidebarContext.Provider>
  )
}

function Sidebar({
  side = "left",
  variant = "sidebar",
  collapsible = "offcanvas",
  className,
  children,
  ...props
}: React.ComponentProps<"div"> & {
  side?: "left" | "right"
  variant?: "sidebar" | "floating" | "inset"
  collapsible?: "offcanvas" | "icon" | "none"
}) {
  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()

  if (collapsible === "none") {
    return (
      <div
        data-slot="sidebar"
        className={cn(
          "bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",
          className
        )}
        {...props}
      >
        {children}
      </div>
    )
  }

  if (isMobile) {
    return (
      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>
        <SheetContent
          data-sidebar="sidebar"
          data-slot="sidebar"
          data-mobile="true"
          className="bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden"
          style={
            {
              "--sidebar-width": SIDEBAR_WIDTH_MOBILE,
            } as React.CSSProperties
          }
          side={side}
        >
          <SheetHeader className="sr-only">
            <SheetTitle>Sidebar</SheetTitle>
            <SheetDescription>Displays the mobile sidebar.</SheetDescription>
          </SheetHeader>
          <div className="flex h-full w-full flex-col">{children}</div>
        </SheetContent>
      </Sheet>
    )
  }

  return (
    <div
      className="group peer text-sidebar-foreground hidden md:block"
      data-state={state}
      data-collapsible={state === "collapsed" ? collapsible : ""}
      data-variant={variant}
      data-side={side}
      data-slot="sidebar"
    >
      <div
        data-slot="sidebar-gap"
        className={cn(
          "relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear",
          "group-data-[collapsible=offcanvas]:w-0",
          "group-data-[side=right]:rotate-180",
          variant === "floating" || variant === "inset"
            ? "group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]"
            : "group-data-[collapsible=icon]:w-(--sidebar-width-icon)"
        )}
      />
      <div
        data-slot="sidebar-container"
        className={cn(
          "fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",
          side === "left"
            ? "left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]"
            : "right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",
          variant === "floating" || variant === "inset"
            ? "p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]"
            : "group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",
          className
        )}
        {...props}
      >
        <div
          data-sidebar="sidebar"
          data-slot="sidebar-inner"
          className="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"
        >
          {children}
        </div>
      </div>
    </div>
  )
}

function SidebarTrigger({
  className,
  onClick,
  ...props
}: React.ComponentProps<typeof Button>) {
  const { toggleSidebar } = useSidebar()

  return (
    <Button
      data-sidebar="trigger"
      data-slot="sidebar-trigger"
      variant="ghost"
      size="icon"
      className={cn("size-7", className)}
      onClick={(event) => {
        onClick?.(event)
        toggleSidebar()
      }}
      {...props}
    >
      <PanelLeftIcon />
      <span className="sr-only">Toggle Sidebar</span>
    </Button>
  )
}

function SidebarRail({ className, ...props }: React.ComponentProps<"button">) {
  const { toggleSidebar } = useSidebar()

  return (
    <button
      data-sidebar="rail"
      data-slot="sidebar-rail"
      aria-label="Toggle Sidebar"
      tabIndex={-1}
      onClick={toggleSidebar}
      title="Toggle Sidebar"
      className={cn(
        "hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex",
        "in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize",
        "[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize",
        "hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full",
        "[[data-side=left][data-collapsible=offcanvas]_&]:-right-2",
        "[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",
        className
      )}
      {...props}
    />
  )
}

function SidebarInset({ className, ...props }: React.ComponentProps<"main">) {
  return (
    <main
      data-slot="sidebar-inset"
      className={cn(
        "bg-background relative flex w-full flex-1 flex-col",
        "md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",
        className
      )}
      {...props}
    />
  )
}

function SidebarInput({
  className,
  ...props
}: React.ComponentProps<typeof Input>) {
  return (
    <Input
      data-slot="sidebar-input"
      data-sidebar="input"
      className={cn("bg-background h-8 w-full shadow-none", className)}
      {...props}
    />
  )
}

function SidebarHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-header"
      data-sidebar="header"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props}
    />
  )
}

function SidebarFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-footer"
      data-sidebar="footer"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props}
    />
  )
}

function SidebarSeparator({
  className,
  ...props
}: React.ComponentProps<typeof Separator>) {
  return (
    <Separator
      data-slot="sidebar-separator"
      data-sidebar="separator"
      className={cn("bg-sidebar-border mx-2 w-auto", className)}
      {...props}
    />
  )
}

function SidebarContent({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-content"
      data-sidebar="content"
      className={cn(
        "flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",
        className
      )}
      {...props}
    />
  )
}

function SidebarGroup({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-group"
      data-sidebar="group"
      className={cn("relative flex w-full min-w-0 flex-col p-2", className)}
      {...props}
    />
  )
}

function SidebarGroupLabel({
  className,
  asChild = false,
  ...props
}: React.ComponentProps<"div"> & { asChild?: boolean }) {
  const Comp = asChild ? Slot : "div"

  return (
    <Comp
      data-slot="sidebar-group-label"
      data-sidebar="group-label"
      className={cn(
        "text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        "group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",
        className
      )}
      {...props}
    />
  )
}

function SidebarGroupAction({
  className,
  asChild = false,
  ...props
}: React.ComponentProps<"button"> & { asChild?: boolean }) {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      data-slot="sidebar-group-action"
      data-sidebar="group-action"
      className={cn(
        "text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        "after:absolute after:-inset-2 md:after:hidden",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
}

function SidebarGroupContent({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-group-content"
      data-sidebar="group-content"
      className={cn("w-full text-sm", className)}
      {...props}
    />
  )
}

function SidebarMenu({ className, ...props }: React.ComponentProps<"ul">) {
  return (
    <ul
      data-slot="sidebar-menu"
      data-sidebar="menu"
      className={cn("flex w-full min-w-0 flex-col gap-1", className)}
      {...props}
    />
  )
}

function SidebarMenuItem({ className, ...props }: React.ComponentProps<"li">) {
  return (
    <li
      data-slot="sidebar-menu-item"
      data-sidebar="menu-item"
      className={cn("group/menu-item relative", className)}
      {...props}
    />
  )
}

const sidebarMenuButtonVariants = cva(
  "peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",
  {
    variants: {
      variant: {
        default: "hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",
        outline:
          "bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]",
      },
      size: {
        default: "h-8 text-sm",
        sm: "h-7 text-xs",
        lg: "h-12 text-sm group-data-[collapsible=icon]:p-0!",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

function SidebarMenuButton({
  asChild = false,
  isActive = false,
  variant = "default",
  size = "default",
  tooltip,
  className,
  ...props
}: React.ComponentProps<"button"> & {
  asChild?: boolean
  isActive?: boolean
  tooltip?: string | React.ComponentProps<typeof TooltipContent>
} & VariantProps<typeof sidebarMenuButtonVariants>) {
  const Comp = asChild ? Slot : "button"
  const { isMobile, state } = useSidebar()

  const button = (
    <Comp
      data-slot="sidebar-menu-button"
      data-sidebar="menu-button"
      data-size={size}
      data-active={isActive}
      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}
      {...props}
    />
  )

  if (!tooltip) {
    return button
  }

  if (typeof tooltip === "string") {
    tooltip = {
      children: tooltip,
    }
  }

  return (
    <Tooltip>
      <TooltipTrigger asChild>{button}</TooltipTrigger>
      <TooltipContent
        side="right"
        align="center"
        hidden={state !== "collapsed" || isMobile}
        {...tooltip}
      />
    </Tooltip>
  )
}

function SidebarMenuAction({
  className,
  asChild = false,
  showOnHover = false,
  ...props
}: React.ComponentProps<"button"> & {
  asChild?: boolean
  showOnHover?: boolean
}) {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      data-slot="sidebar-menu-action"
      data-sidebar="menu-action"
      className={cn(
        "text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        "after:absolute after:-inset-2 md:after:hidden",
        "peer-data-[size=sm]/menu-button:top-1",
        "peer-data-[size=default]/menu-button:top-1.5",
        "peer-data-[size=lg]/menu-button:top-2.5",
        "group-data-[collapsible=icon]:hidden",
        showOnHover &&
          "peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0",
        className
      )}
      {...props}
    />
  )
}

function SidebarMenuBadge({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-menu-badge"
      data-sidebar="menu-badge"
      className={cn(
        "text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none",
        "peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground",
        "peer-data-[size=sm]/menu-button:top-1",
        "peer-data-[size=default]/menu-button:top-1.5",
        "peer-data-[size=lg]/menu-button:top-2.5",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
}

function SidebarMenuSkeleton({
  className,
  showIcon = false,
  ...props
}: React.ComponentProps<"div"> & {
  showIcon?: boolean
}) {
  const width = React.useMemo(() => {
    return `${Math.floor(Math.random() * 40) + 50}%`
  }, [])

  return (
    <div
      data-slot="sidebar-menu-skeleton"
      data-sidebar="menu-skeleton"
      className={cn("flex h-8 items-center gap-2 rounded-md px-2", className)}
      {...props}
    >
      {showIcon && (
        <Skeleton
          className="size-4 rounded-md"
          data-sidebar="menu-skeleton-icon"
        />
      )}
      <Skeleton
        className="h-4 max-w-(--skeleton-width) flex-1"
        data-sidebar="menu-skeleton-text"
        style={
          {
            "--skeleton-width": width,
          } as React.CSSProperties
        }
      />
    </div>
  )
}

function SidebarMenuSub({ className, ...props }: React.ComponentProps<"ul">) {
  return (
    <ul
      data-slot="sidebar-menu-sub"
      data-sidebar="menu-sub"
      className={cn(
        "border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
}

function SidebarMenuSubItem({
  className,
  ...props
}: React.ComponentProps<"li">) {
  return (
    <li
      data-slot="sidebar-menu-sub-item"
      data-sidebar="menu-sub-item"
      className={cn("group/menu-sub-item relative", className)}
      {...props}
    />
  )
}

function SidebarMenuSubButton({
  asChild = false,
  size = "md",
  isActive = false,
  className,
  ...props
}: React.ComponentProps<"a"> & {
  asChild?: boolean
  size?: "sm" | "md"
  isActive?: boolean
}) {
  const Comp = asChild ? Slot : "a"

  return (
    <Comp
      data-slot="sidebar-menu-sub-button"
      data-sidebar="menu-sub-button"
      data-size={size}
      data-active={isActive}
      className={cn(
        "text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",
        "data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",
        size === "sm" && "text-xs",
        size === "md" && "text-sm",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
}

export {
  Sidebar,
  SidebarContent,
  SidebarFooter,
  SidebarGroup,
  SidebarGroupAction,
  SidebarGroupContent,
  SidebarGroupLabel,
  SidebarHeader,
  SidebarInput,
  SidebarInset,
  SidebarMenu,
  SidebarMenuAction,
  SidebarMenuBadge,
  SidebarMenuButton,
  SidebarMenuItem,
  SidebarMenuSkeleton,
  SidebarMenuSub,
  SidebarMenuSubButton,
  SidebarMenuSubItem,
  SidebarProvider,
  SidebarRail,
  SidebarSeparator,
  SidebarTrigger,
  useSidebar,
}
</file>

<file path="components/ui/skeleton.tsx">
import { cn } from "@/lib/utils"

function Skeleton({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="skeleton"
      className={cn("bg-accent animate-pulse rounded-md", className)}
      {...props}
    />
  )
}

export { Skeleton }
</file>

<file path="components/ui/tooltip.tsx">
"use client"

import * as React from "react"
import * as TooltipPrimitive from "@radix-ui/react-tooltip"

import { cn } from "@/lib/utils"

function TooltipProvider({
  delayDuration = 0,
  ...props
}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {
  return (
    <TooltipPrimitive.Provider
      data-slot="tooltip-provider"
      delayDuration={delayDuration}
      {...props}
    />
  )
}

function Tooltip({
  ...props
}: React.ComponentProps<typeof TooltipPrimitive.Root>) {
  return (
    <TooltipProvider>
      <TooltipPrimitive.Root data-slot="tooltip" {...props} />
    </TooltipProvider>
  )
}

function TooltipTrigger({
  ...props
}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {
  return <TooltipPrimitive.Trigger data-slot="tooltip-trigger" {...props} />
}

function TooltipContent({
  className,
  sideOffset = 0,
  children,
  ...props
}: React.ComponentProps<typeof TooltipPrimitive.Content>) {
  return (
    <TooltipPrimitive.Portal>
      <TooltipPrimitive.Content
        data-slot="tooltip-content"
        sideOffset={sideOffset}
        className={cn(
          "bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",
          className
        )}
        {...props}
      >
        {children}
        <TooltipPrimitive.Arrow className="bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]" />
      </TooltipPrimitive.Content>
    </TooltipPrimitive.Portal>
  )
}

export { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }
</file>

<file path="components/theme-provider.tsx">
"use client";

import * as React from "react";
import { ThemeProvider as NextThemesProvider } from "next-themes";

export function ThemeProvider({
  children,
  ...props
}: React.ComponentProps<typeof NextThemesProvider>) {
  return <NextThemesProvider {...props}>{children}</NextThemesProvider>;
}
</file>

<file path="components/theme-toggle.tsx">
"use client";

import * as React from "react";
import { Moon, Sun } from "lucide-react";
import { useTheme } from "next-themes";
import { Button } from "@/components/ui/button";
import { cn } from "@/lib/utils";

interface ThemeToggleProps {
  className?: string;
}

export function ThemeToggle({ className }: ThemeToggleProps) {
  const { setTheme, resolvedTheme } = useTheme();

  const handleToggle = () => {
    setTheme(resolvedTheme === "dark" ? "light" : "dark");
  };

  return (
    <Button
      variant="outline"
      size="icon"
      onClick={handleToggle}
      className={cn(className)}
    >
      <Sun className="size-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0" />
      <Moon className="absolute size-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100" />
      <span className="sr-only">Toggle theme</span>
    </Button>
  );
}
</file>

<file path="hooks/use-mobile.ts">
import * as React from "react";

const MOBILE_BREAKPOINT = 768;

export function useIsMobile() {
  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(
    undefined
  );

  React.useEffect(() => {
    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`);
    const onChange = () => {
      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);
    };
    mql.addEventListener("change", onChange);
    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);
    return () => mql.removeEventListener("change", onChange);
  }, []);

  return !!isMobile;
}
</file>

<file path="lib/utils.ts">
import { clsx, type ClassValue } from "clsx";
import { twMerge } from "tailwind-merge";

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs));
}
</file>

<file path="mock-data/locations.ts">
export type LocationCategory = {
  id: string;
  name: string;
  icon: string;
  color: string;
};

export type Location = {
  id: string;
  name: string;
  description: string;
  address: string;
  categoryId: string;
  coordinates: {
    lat: number;
    lng: number;
  };
  rating: number;
  tags: string[];
  createdAt: string;
  isFavorite: boolean;
  visitCount: number;
  lastVisited?: string;
};

export const categories: LocationCategory[] = [
  { id: "restaurants", name: "Restaurants", icon: "utensils", color: "#ef4444" },
  { id: "cafes", name: "Cafés", icon: "coffee", color: "#f97316" },
  { id: "bars", name: "Bars", icon: "wine", color: "#8b5cf6" },
  { id: "parks", name: "Parks", icon: "trees", color: "#22c55e" },
  { id: "museums", name: "Museums", icon: "landmark", color: "#3b82f6" },
  { id: "shops", name: "Shopping", icon: "shopping-bag", color: "#ec4899" },
  { id: "hotels", name: "Hotels", icon: "bed", color: "#06b6d4" },
  { id: "gyms", name: "Fitness", icon: "dumbbell", color: "#eab308" },
];

export const tags = [
  { id: "family-friendly", name: "Family Friendly" },
  { id: "pet-friendly", name: "Pet Friendly" },
  { id: "outdoor", name: "Outdoor" },
  { id: "wifi", name: "Free WiFi" },
  { id: "parking", name: "Parking" },
  { id: "accessible", name: "Accessible" },
  { id: "romantic", name: "Romantic" },
  { id: "budget", name: "Budget Friendly" },
  { id: "luxury", name: "Luxury" },
  { id: "vegan", name: "Vegan Options" },
];

const allTags = tags.map(t => t.id);
const getRandomTags = () => {
  const count = Math.floor(Math.random() * 4) + 1;
  const shuffled = [...allTags].sort(() => 0.5 - Math.random());
  return shuffled.slice(0, count);
};

const createLocation = (
  id: string,
  name: string,
  description: string,
  address: string,
  categoryId: string,
  lat: number,
  lng: number,
  rating: number,
  isFavorite: boolean = false
): Location => ({
  id,
  name,
  description,
  address,
  categoryId,
  coordinates: { lat, lng },
  rating,
  tags: getRandomTags(),
  createdAt: `2024-${String(Math.floor(Math.random() * 12) + 1).padStart(2, '0')}-${String(Math.floor(Math.random() * 28) + 1).padStart(2, '0')}`,
  isFavorite,
  visitCount: Math.floor(Math.random() * 100) + 1,
  lastVisited: Math.random() > 0.3 ? `2024-12-${String(Math.floor(Math.random() * 28) + 1).padStart(2, '0')}` : undefined,
});

export const locations: Location[] = [
  // ===== RESTAURANTS (67) =====
  // France (5)
  createLocation("rest-1", "Le Comptoir du Panthéon", "Charming Parisian bistro with classic French cuisine", "5 Rue Soufflot, 75005 Paris, France", "restaurants", 48.8462, 2.3464, 4.5, true),
  createLocation("rest-2", "Septime", "Michelin-starred neo-bistro", "80 Rue de Charonne, 75011 Paris, France", "restaurants", 48.8531, 2.3800, 4.8, true),
  createLocation("rest-3", "Paul Bocuse Restaurant", "Legendary 3-star Michelin restaurant", "40 Rue de la Plage, 69660 Collonges-au-Mont-d'Or, France", "restaurants", 45.8320, 4.8408, 4.9),
  createLocation("rest-4", "L'Ambroisie", "Three Michelin star French", "9 Place des Vosges, 75004 Paris, France", "restaurants", 48.8555, 2.3660, 4.9),
  createLocation("rest-5", "La Mère Brazier Lyon", "Historic Lyonnaise cuisine", "12 Rue Royale, 69001 Lyon, France", "restaurants", 45.7680, 4.8340, 4.7),
  // USA (8)
  createLocation("rest-6", "The French Laundry", "Three Michelin stars", "6640 Washington St, Yountville, CA 94599, USA", "restaurants", 38.4046, -122.3649, 4.9, true),
  createLocation("rest-7", "Eleven Madison Park", "Fine dining restaurant", "11 Madison Ave, New York, NY 10010, USA", "restaurants", 40.7417, -73.9872, 4.8),
  createLocation("rest-8", "Alinea Chicago", "Three Michelin stars", "1723 N Halsted St, Chicago, IL 60614, USA", "restaurants", 41.9132, -87.6482, 4.9),
  createLocation("rest-9", "Nobu Malibu", "Japanese fine dining", "22706 Pacific Coast Hwy, Malibu, CA 90265, USA", "restaurants", 34.0382, -118.6793, 4.6),
  createLocation("rest-10", "Per Se NYC", "Thomas Keller's NYC outpost", "10 Columbus Circle, New York, NY 10019, USA", "restaurants", 40.7685, -73.9830, 4.8),
  createLocation("rest-11", "Commander's Palace", "New Orleans institution", "1403 Washington Ave, New Orleans, LA 70130, USA", "restaurants", 29.9290, -90.0890, 4.6),
  createLocation("rest-12", "Chez Panisse", "Farm-to-table pioneer", "1517 Shattuck Ave, Berkeley, CA 94709, USA", "restaurants", 37.8795, -122.2690, 4.7),
  createLocation("rest-13", "Le Bernardin", "Seafood temple in NYC", "155 W 51st St, New York, NY 10019, USA", "restaurants", 40.7615, -73.9820, 4.9),
  // Canada (6)
  createLocation("rest-14", "Toqué! Montreal", "Quebec's finest restaurant", "900 Place Jean-Paul-Riopelle, Montreal, QC, Canada", "restaurants", 45.5048, -73.5605, 4.8),
  createLocation("rest-15", "Alo Toronto", "French tasting menu excellence", "163 Spadina Ave, Toronto, ON, Canada", "restaurants", 43.6490, -79.3960, 4.8),
  createLocation("rest-16", "Hawksworth Vancouver", "Contemporary Canadian cuisine", "801 W Georgia St, Vancouver, BC, Canada", "restaurants", 49.2830, -123.1200, 4.7),
  createLocation("rest-17", "Canoe Toronto", "Canadian fine dining with skyline views", "66 Wellington St W, Toronto, ON, Canada", "restaurants", 43.6475, -79.3810, 4.6),
  createLocation("rest-18", "Joe Beef Montreal", "Iconic Montreal steakhouse", "2491 Notre-Dame St W, Montreal, QC, Canada", "restaurants", 45.4790, -73.5850, 4.7),
  createLocation("rest-19", "Langdon Hall", "Country house cuisine", "1 Langdon Dr, Cambridge, ON, Canada", "restaurants", 43.4200, -80.3500, 4.8),
  // Japan (6)
  createLocation("rest-20", "Sukiyabashi Jiro", "Legendary sushi restaurant", "Ginza, Chuo City, Tokyo, Japan", "restaurants", 35.6719, 139.7642, 4.9),
  createLocation("rest-21", "Den Tokyo", "Two Michelin star innovative", "2 Chome-3-18 Jingumae, Shibuya, Tokyo, Japan", "restaurants", 35.6687, 139.7101, 4.8),
  createLocation("rest-22", "Narisawa Tokyo", "Innovative Japanese cuisine", "2-6-15 Minami-Aoyama, Tokyo, Japan", "restaurants", 35.6690, 139.7190, 4.8),
  createLocation("rest-23", "Kikunoi Kyoto", "Traditional kaiseki", "459 Shimokawaracho, Higashiyama, Kyoto, Japan", "restaurants", 34.9960, 135.7810, 4.8),
  createLocation("rest-24", "Kobe Beef Kaiseki 511", "Premium Kobe beef experience", "2-4-5 Shimoyamate-dori, Kobe, Japan", "restaurants", 34.6900, 135.1860, 4.7),
  createLocation("rest-25", "Ichiran Ramen", "Famous tonkotsu ramen chain", "1 Chome-22-7 Jinnan, Shibuya, Tokyo, Japan", "restaurants", 35.6619, 139.6992, 4.5),
  // Italy (4)
  createLocation("rest-26", "Osteria Francescana", "World's best restaurant", "Via Stella 22, Modena, Italy", "restaurants", 44.6471, 10.9252, 4.9),
  createLocation("rest-27", "Pizzeria Da Michele", "Legendary Naples pizza", "Via Cesare Sersale 1, Naples, Italy", "restaurants", 40.8500, 14.2640, 4.6),
  createLocation("rest-28", "La Pergola Rome", "Three Michelin stars", "Via Alberto Cadlolo 101, Rome, Italy", "restaurants", 41.9220, 12.4530, 4.9),
  createLocation("rest-29", "Trattoria Sostanza", "Florence's butter pasta", "Via del Porcellana 25r, Florence, Italy", "restaurants", 43.7720, 11.2460, 4.5),
  // Spain (3)
  createLocation("rest-30", "El Celler de Can Roca", "Three Michelin stars", "Can Sunyer 48, Girona, Spain", "restaurants", 41.9924, 2.8048, 4.9),
  createLocation("rest-31", "Asador Etxebarri", "World's best grilled cuisine", "San Juan Plaza 1, Atxondo, Spain", "restaurants", 43.1310, -2.5970, 4.9),
  createLocation("rest-32", "DiverXO Madrid", "Three Michelin stars", "Calle de Padre Damián 23, Madrid, Spain", "restaurants", 40.4570, -3.6870, 4.8),
  // UK (3)
  createLocation("rest-33", "Dishoom", "Popular Indian restaurant", "12 Upper St Martin's Lane, London, UK", "restaurants", 51.5123, -0.1268, 4.6),
  createLocation("rest-34", "The Fat Duck", "Heston Blumenthal's lab", "High St, Bray, UK", "restaurants", 51.5080, -0.7010, 4.8),
  createLocation("rest-35", "Restaurant Gordon Ramsay", "Three Michelin star London", "68 Royal Hospital Rd, London, UK", "restaurants", 51.4855, -0.1630, 4.8),
  // Russia (5)
  createLocation("rest-36", "White Rabbit Moscow", "Modern Russian cuisine with city views", "Smolenskaya Sq 3, Moscow, Russia", "restaurants", 55.7470, 37.5830, 4.7),
  createLocation("rest-37", "Beluga Restaurant", "Upscale Russian-European", "Petrovka St 3, Moscow, Russia", "restaurants", 55.7630, 37.6150, 4.6),
  createLocation("rest-38", "Palkin St Petersburg", "Historic Russian restaurant since 1785", "Nevsky Prospekt 47, St. Petersburg, Russia", "restaurants", 59.9340, 30.3440, 4.5),
  createLocation("rest-39", "Twins Garden Moscow", "Farm-to-table excellence", "Strasnoy Blvd 8a, Moscow, Russia", "restaurants", 55.7680, 37.6080, 4.8),
  createLocation("rest-40", "Cococo St Petersburg", "Modern Russian gastronomy", "Voznesensky Prospekt 6, St. Petersburg, Russia", "restaurants", 59.9310, 30.3080, 4.6),
  // Afrique de l'Ouest (6)
  createLocation("rest-41", "La Calebasse Dakar", "Fine Senegalese dining", "Route de Ngor, Dakar, Senegal", "restaurants", 14.7450, -17.5130, 4.4),
  createLocation("rest-42", "Le Bushman Café Abidjan", "Ivorian fusion cuisine", "Rue des Jardins, Cocody, Abidjan, Côte d'Ivoire", "restaurants", 5.3590, -3.9870, 4.3),
  createLocation("rest-43", "Buka Restaurant Lagos", "Authentic Nigerian cuisine", "Victoria Island, Lagos, Nigeria", "restaurants", 6.4280, 3.4220, 4.4),
  createLocation("rest-44", "Santana Restaurant Accra", "Ghanaian fine dining", "Oxford St, Osu, Accra, Ghana", "restaurants", 5.5560, -0.1740, 4.3),
  createLocation("rest-45", "Le Djembe Bamako", "Traditional Malian cuisine", "Hippodrome, Bamako, Mali", "restaurants", 12.6530, -7.9920, 4.2),
  createLocation("rest-46", "L'Eau Vive Ouagadougou", "Fine dining in Burkina Faso", "Avenue de la Nation, Ouagadougou, Burkina Faso", "restaurants", 12.3680, -1.5240, 4.3),
  // Afrique du Nord (4)
  createLocation("rest-47", "El Ali Tunis", "Traditional Tunisian cuisine", "Rue Jamaa Zitouna, Tunis, Tunisia", "restaurants", 36.7980, 10.1710, 4.4),
  createLocation("rest-48", "La Maison Arabe Marrakech", "Moroccan gastronomy", "1 Derb Assehbe, Marrakech, Morocco", "restaurants", 31.6310, -7.9890, 4.6),
  createLocation("rest-49", "El Djazair Algiers", "Algerian traditional restaurant", "Rue Didouche Mourad, Algiers, Algeria", "restaurants", 36.7650, 3.0580, 4.3),
  createLocation("rest-50", "Felfela Cairo", "Classic Egyptian dining since 1963", "15 Hoda Shaarawy St, Cairo, Egypt", "restaurants", 30.0480, 31.2420, 4.4),
  // Asie Centrale (4)
  createLocation("rest-51", "Navat Almaty", "Kazakh traditional cuisine", "Dostyk Ave 50, Almaty, Kazakhstan", "restaurants", 43.2380, 76.9450, 4.4),
  createLocation("rest-52", "Caravan Samarkand", "Uzbek plov specialists", "Registan Square, Samarkand, Uzbekistan", "restaurants", 39.6540, 66.9760, 4.5),
  createLocation("rest-53", "Dastorkon Tashkent", "Traditional Uzbek restaurant", "Amir Temur Ave, Tashkent, Uzbekistan", "restaurants", 41.3110, 69.2790, 4.4),
  createLocation("rest-54", "Modern Nomads Ulaanbaatar", "Contemporary Mongolian cuisine", "Seoul Street, Ulaanbaatar, Mongolia", "restaurants", 47.9180, 106.9170, 4.3),
  // Cameroun & Afrique (3)
  createLocation("rest-55", "La Falaise Yaoundé", "Fine dining with panoramic views", "Quartier Bastos, Yaoundé, Cameroon", "restaurants", 3.8860, 11.5021, 4.4, true),
  createLocation("rest-56", "Le Safoutier Douala", "Traditional Cameroonian cuisine", "Rue de la Joie, Douala, Cameroon", "restaurants", 4.0550, 9.7100, 4.3),
  createLocation("rest-57", "Carnivore Restaurant Nairobi", "Famous meat restaurant", "Langata Road, Nairobi, Kenya", "restaurants", -1.3333, 36.7500, 4.4),
  // Reste du monde (10)
  createLocation("rest-58", "Hawker Chan Singapore", "Michelin-starred hawker food", "78 Smith Street, Singapore", "restaurants", 1.2819, 103.8445, 4.5),
  createLocation("rest-59", "Noma Copenhagen", "World-famous Nordic restaurant", "Refshalevej 96, Copenhagen, Denmark", "restaurants", 55.6834, 12.6100, 4.9),
  createLocation("rest-60", "At.mosphere Dubai", "World's highest restaurant", "Burj Khalifa, Dubai, UAE", "restaurants", 25.1972, 55.2744, 4.6),
  createLocation("rest-61", "Indian Accent Delhi", "Modern Indian fine dining", "The Lodhi, New Delhi, India", "restaurants", 28.5930, 77.2190, 4.7),
  createLocation("rest-62", "Central Lima", "World-renowned restaurant", "Santa Isabel 376, Lima, Peru", "restaurants", -12.0464, -77.0428, 4.8),
  createLocation("rest-63", "Don Julio Buenos Aires", "Famous steakhouse", "Guatemala 4699, Buenos Aires, Argentina", "restaurants", -34.5833, -58.4266, 4.7),
  createLocation("rest-64", "Pujol Mexico City", "Modern Mexican fine dining", "Tennyson 133, Mexico City, Mexico", "restaurants", 19.4320, -99.2003, 4.8),
  createLocation("rest-65", "Quay Restaurant Sydney", "Fine dining with harbour views", "Upper Level, Overseas Passenger Terminal, Sydney, Australia", "restaurants", -33.8577, 151.2100, 4.7),
  createLocation("rest-66", "Gaggan Anand Bangkok", "Innovative Indian cuisine", "68/1 Soi Langsuan, Bangkok, Thailand", "restaurants", 13.7400, 100.5416, 4.8),
  createLocation("rest-67", "Jungsik Seoul", "Two Michelin star Korean", "11 Seolleung-ro 158-gil, Gangnam, Seoul, South Korea", "restaurants", 37.5254, 127.0437, 4.8),

  // ===== CAFÉS (58) =====
  // France (4)
  createLocation("cafe-1", "Café de Flore", "Iconic Parisian café with rich literary history", "172 Boulevard Saint-Germain, 75006 Paris, France", "cafes", 48.8541, 2.3326, 4.3, true),
  createLocation("cafe-2", "Boulangerie Poilâne", "Legendary bakery famous for sourdough", "8 Rue du Cherche-Midi, 75006 Paris, France", "cafes", 48.8505, 2.3262, 4.8, true),
  createLocation("cafe-3", "Café Kitsuné", "Trendy coffee shop in Palais Royal", "51 Galerie de Montpensier, 75001 Paris, France", "cafes", 48.8635, 2.3378, 4.3),
  createLocation("cafe-4", "Ladurée Champs-Élysées", "Famous macaron house", "75 Avenue des Champs-Élysées, Paris, France", "cafes", 48.8710, 2.3050, 4.4),
  // USA (6)
  createLocation("cafe-5", "Blue Bottle Coffee", "Artisan coffee roaster", "66 Mint St, San Francisco, CA 94103, USA", "cafes", 37.7825, -122.4046, 4.4),
  createLocation("cafe-6", "Stumptown Coffee", "Portland coffee roaster", "128 SW 3rd Ave, Portland, OR 97204, USA", "cafes", 45.5204, -122.6763, 4.5),
  createLocation("cafe-7", "Tartine Bakery", "Famous San Francisco bakery", "600 Guerrero St, San Francisco, CA 94110, USA", "cafes", 37.7617, -122.4243, 4.6),
  createLocation("cafe-8", "Intelligentsia Coffee", "Chicago specialty coffee", "53 E Randolph St, Chicago, IL 60601, USA", "cafes", 41.8847, -87.6257, 4.5),
  createLocation("cafe-9", "Counter Culture Durham", "Award-winning roaster", "2018 Hillsborough Rd, Durham, NC 27705, USA", "cafes", 35.9960, -78.9240, 4.5),
  createLocation("cafe-10", "La Colombe Philadelphia", "Third-wave pioneer", "1414 S Penn Square, Philadelphia, PA 19102, USA", "cafes", 39.9510, -75.1660, 4.4),
  // Canada (4)
  createLocation("cafe-11", "49th Parallel Coffee Vancouver", "Vancouver roaster", "2902 Main St, Vancouver, BC, Canada", "cafes", 49.2600, -123.1010, 4.5),
  createLocation("cafe-12", "Café Myriade Montreal", "Montreal specialty coffee", "1432 Rue Mackay, Montreal, QC, Canada", "cafes", 45.4970, -73.5780, 4.4),
  createLocation("cafe-13", "Pilot Coffee Toronto", "Toronto roaster", "983 Queen St W, Toronto, ON, Canada", "cafes", 43.6440, -79.4170, 4.5),
  createLocation("cafe-14", "Transcend Coffee Edmonton", "Alberta specialty coffee", "10310 Jasper Ave, Edmonton, AB, Canada", "cafes", 53.5420, -113.5010, 4.4),
  // Russia (3)
  createLocation("cafe-15", "Chistye Prudy Moscow", "Historic Moscow café", "Chistoprudny Blvd, Moscow, Russia", "cafes", 55.7630, 37.6430, 4.3),
  createLocation("cafe-16", "Singer Café St Petersburg", "Café in historic bookstore", "Nevsky Prospekt 28, St. Petersburg, Russia", "cafes", 59.9360, 30.3260, 4.5),
  createLocation("cafe-17", "Double B Coffee Moscow", "Moscow specialty roaster", "Pokrovka St 17, Moscow, Russia", "cafes", 55.7590, 37.6490, 4.4),
  // Japan (4)
  createLocation("cafe-18", "Blue Bottle Coffee Tokyo", "Artisan coffee in Kiyosumi", "1 Chome-4-8 Hirano, Koto City, Tokyo, Japan", "cafes", 35.6803, 139.8003, 4.3),
  createLocation("cafe-19", "Arabica Kyoto", "Famous % Arabica coffee", "87-5 Hoshinocho, Higashiyama, Kyoto, Japan", "cafes", 34.9984, 135.7813, 4.4),
  createLocation("cafe-20", "Fuglen Tokyo", "Norwegian coffee culture", "1-16-11 Tomigaya, Shibuya, Tokyo, Japan", "cafes", 35.6660, 139.6880, 4.4),
  createLocation("cafe-21", "Onibus Coffee", "Nakameguro specialty", "2-14-1 Kamimeguro, Meguro, Tokyo, Japan", "cafes", 35.6440, 139.7000, 4.5),
  // UK (3)
  createLocation("cafe-22", "Monmouth Coffee", "Pioneer of London specialty coffee", "27 Monmouth St, London, UK", "cafes", 51.5140, -0.1267, 4.5),
  createLocation("cafe-23", "Prufrock Coffee", "Award-winning London café", "23-25 Leather Lane, London, UK", "cafes", 51.5200, -0.1092, 4.4),
  createLocation("cafe-24", "Flat White Soho", "Australian-style coffee", "17 Berwick St, London, UK", "cafes", 51.5138, -0.1346, 4.4),
  // Australia (3)
  createLocation("cafe-25", "Patricia Coffee Melbourne", "Standing room only", "493 Little Bourke St, Melbourne, Australia", "cafes", -37.8120, 144.9590, 4.5),
  createLocation("cafe-26", "Single O Sydney", "Specialty coffee roaster", "60-64 Reservoir St, Surry Hills, Australia", "cafes", -33.8850, 151.2120, 4.4),
  createLocation("cafe-27", "The Grounds of Alexandria", "Garden café experience", "7A/2 Huntley St, Alexandria, Australia", "cafes", -33.9100, 151.1940, 4.6),
  // Italy (3)
  createLocation("cafe-28", "Caffè Florian Venice", "Historic Venice café", "Piazza San Marco 57, Venice, Italy", "cafes", 45.4341, 12.3387, 4.5),
  createLocation("cafe-29", "Sant'Eustachio Il Caffè", "Famous Roman espresso", "Piazza di S. Eustachio 82, Rome, Italy", "cafes", 41.8986, 12.4751, 4.6),
  createLocation("cafe-30", "Gilli Florence", "Elegant Florence café", "Piazza della Repubblica, Florence, Italy", "cafes", 43.7710, 11.2540, 4.3),
  // Afrique de l'Ouest (4)
  createLocation("cafe-31", "Terrou-Bi Café Dakar", "Beachfront café experience", "Route de la Corniche, Dakar, Senegal", "cafes", 14.6990, -17.4720, 4.3),
  createLocation("cafe-32", "Vidéo Club Café Abidjan", "Hip Abidjan café", "Zone 4, Abidjan, Côte d'Ivoire", "cafes", 5.3140, -4.0010, 4.2),
  createLocation("cafe-33", "Accra Coffee House", "Specialty coffee in Ghana", "Osu, Accra, Ghana", "cafes", 5.5570, -0.1760, 4.3),
  createLocation("cafe-34", "The Yellow Chilli Lagos", "Nigerian café culture", "Ikeja, Lagos, Nigeria", "cafes", 6.6010, 3.3530, 4.2),
  // Afrique du Nord (3)
  createLocation("cafe-35", "Café des Nattes Sidi Bou Said", "Historic Tunisian café", "Sidi Bou Said, Tunisia", "cafes", 36.8690, 10.3480, 4.5),
  createLocation("cafe-36", "Café Clock Marrakech", "Cultural café in medina", "Derb el Magana, Marrakech, Morocco", "cafes", 31.6290, -7.9850, 4.4),
  createLocation("cafe-37", "Milk Bar Algiers", "Historic Algerian café", "Rue Larbi Ben M'hidi, Algiers, Algeria", "cafes", 36.7730, 3.0610, 4.2),
  // Asie Centrale (4)
  createLocation("cafe-38", "Ritz Coffee Almaty", "Kazakh specialty coffee", "Al-Farabi Ave, Almaty, Kazakhstan", "cafes", 43.2180, 76.9280, 4.3),
  createLocation("cafe-39", "Kukcha Tashkent", "Traditional Uzbek teahouse", "Navoi St, Tashkent, Uzbekistan", "cafes", 41.3150, 69.2810, 4.4),
  createLocation("cafe-40", "Café Amsterdam Bishkek", "European-style café in Kyrgyzstan", "Erkindik Blvd, Bishkek, Kyrgyzstan", "cafes", 42.8740, 74.6000, 4.2),
  createLocation("cafe-41", "Veranda Ulaanbaatar", "Modern Mongolian café", "Peace Ave, Ulaanbaatar, Mongolia", "cafes", 47.9150, 106.9180, 4.3),
  // Cameroun & Afrique (3)
  createLocation("cafe-42", "Café de Flore Yaoundé", "Popular local café", "Avenue Kennedy, Yaoundé, Cameroon", "cafes", 3.8700, 11.5200, 4.1),
  createLocation("cafe-43", "Truth Coffee Cape Town", "Steampunk-themed roastery", "36 Buitenkant St, Cape Town, South Africa", "cafes", -33.9280, 18.4240, 4.5),
  createLocation("cafe-44", "Tomoca Coffee Addis Ababa", "Historic Ethiopian coffee house", "Addis Ababa, Ethiopia", "cafes", 9.0167, 38.7500, 4.5),
  // Reste du monde (16)
  createLocation("cafe-45", "Café Central Vienna", "Historic Viennese coffeehouse", "Herrengasse 14, Vienna, Austria", "cafes", 48.2104, 16.3652, 4.5),
  createLocation("cafe-46", "Tim Wendelboe Oslo", "World champion barista café", "Grüners gate 1, Oslo, Norway", "cafes", 59.9220, 10.7580, 4.6),
  createLocation("cafe-47", "The Coffee Collective Copenhagen", "Nordic specialty", "Jægersborggade 57, Copenhagen, Denmark", "cafes", 55.6910, 12.5530, 4.5),
  createLocation("cafe-48", "Cafe de Paris Seoul", "Fruit dessert café", "41 Myeongdong 8-gil, Seoul, South Korea", "cafes", 37.5628, 126.9854, 4.3),
  createLocation("cafe-49", "Fritz Coffee Company Seoul", "Seoul specialty coffee", "41 Donggyo-ro 46-gil, Mapo-gu, Seoul, South Korea", "cafes", 37.5600, 126.9230, 4.5),
  createLocation("cafe-50", "Roots Coffee Bangkok", "Bangkok specialty roaster", "1096/2 Phahon Yothin Rd, Bangkok, Thailand", "cafes", 13.8150, 100.5610, 4.4),
  createLocation("cafe-51", "Cong Caphe Hanoi", "Retro Vietnamese coffee chain", "27 Nha Tho St, Hanoi, Vietnam", "cafes", 21.0290, 105.8490, 4.3),
  createLocation("cafe-52", "Common Grounds Jakarta", "Jakarta specialty café", "Jl. Kemang Raya 30A, Jakarta, Indonesia", "cafes", -6.2620, 106.8180, 4.4),
  createLocation("cafe-53", "Mandabatmaz Istanbul", "Traditional Turkish coffee", "Olivia Geçidi 1/A, Istanbul, Turkey", "cafes", 41.0315, 28.9742, 4.6),
  createLocation("cafe-54", "Café Pergamino Medellín", "Colombian specialty coffee", "Carrera 37, Medellín, Colombia", "cafes", 6.2100, -75.5700, 4.5),
  createLocation("cafe-55", "Coffee Lab São Paulo", "Brazilian specialty coffee", "R. Fradique Coutinho 1340, São Paulo, Brazil", "cafes", -23.5590, -46.6810, 4.5),
  createLocation("cafe-56", "Flight Coffee Wellington", "Wellington specialty roaster", "14 Dixon St, Wellington, New Zealand", "cafes", -41.2910, 174.7770, 4.4),
  createLocation("cafe-57", "Five Elephant Berlin", "Berlin specialty roaster", "Reichenberger Str. 101, Berlin, Germany", "cafes", 52.4950, 13.4350, 4.4),
  createLocation("cafe-58", "Bonanza Coffee Berlin", "Pioneer of Berlin coffee", "Oderberger Str. 35, Berlin, Germany", "cafes", 52.5400, 13.4100, 4.5),

  // ===== BARS (47) =====
  // France (3)
  createLocation("bar-1", "Harry's New York Bar", "Historic cocktail bar - birthplace of Bloody Mary", "5 Rue Daunou, 75002 Paris, France", "bars", 48.8689, 2.3335, 4.4),
  createLocation("bar-2", "Le Baron Rouge", "Authentic wine bar with cheese platters", "1 Rue Théophile Roussel, 75012 Paris, France", "bars", 48.8491, 2.3785, 4.5, true),
  createLocation("bar-3", "Experimental Cocktail Club", "Speakeasy-style bar", "37 Rue Saint-Sauveur, 75002 Paris, France", "bars", 48.8654, 2.3480, 4.5),
  // USA (6)
  createLocation("bar-4", "Death & Co NYC", "Award-winning cocktail bar", "433 E 6th St, New York, NY 10009, USA", "bars", 40.7260, -73.9850, 4.6),
  createLocation("bar-5", "Please Don't Tell", "Speakeasy cocktail bar", "113 St Marks Pl, New York, NY 10009, USA", "bars", 40.7275, -73.9846, 4.5),
  createLocation("bar-6", "The Aviary Chicago", "Molecular cocktails", "955 W Fulton Market, Chicago, IL 60607, USA", "bars", 41.8866, -87.6522, 4.6),
  createLocation("bar-7", "Smuggler's Cove SF", "Tiki bar in San Francisco", "650 Gough St, San Francisco, CA 94102, USA", "bars", 37.7789, -122.4232, 4.5),
  createLocation("bar-8", "The Dead Rabbit NYC", "Irish pub meets cocktail bar", "30 Water St, New York, NY 10004, USA", "bars", 40.7030, -74.0400, 4.6),
  createLocation("bar-9", "Employees Only NYC", "Prohibition-era speakeasy", "510 Hudson St, New York, NY 10014, USA", "bars", 40.7330, -74.0060, 4.5),
  // Canada (3)
  createLocation("bar-10", "BarChef Toronto", "Molecular cocktails", "472 Queen St W, Toronto, ON, Canada", "bars", 43.6480, -79.4030, 4.5),
  createLocation("bar-11", "Burgundy Lion Montreal", "British gastropub", "2496 Notre-Dame St W, Montreal, QC, Canada", "bars", 45.4790, -73.5860, 4.4),
  createLocation("bar-12", "The Keefer Bar Vancouver", "Chinatown cocktail bar", "135 Keefer St, Vancouver, BC, Canada", "bars", 49.2800, -123.1020, 4.5),
  // Russia (3)
  createLocation("bar-13", "Mendeleev Bar Moscow", "Speakeasy-style bar", "Petrovka St 20/1, Moscow, Russia", "bars", 55.7650, 37.6170, 4.5),
  createLocation("bar-14", "El Copitas St Petersburg", "World-class cocktail bar", "Bolshaya Konyushennaya St 14, St. Petersburg, Russia", "bars", 59.9380, 30.3240, 4.6),
  createLocation("bar-15", "Noor Bar Moscow", "Middle Eastern inspired cocktails", "Tverskaya St 23, Moscow, Russia", "bars", 55.7680, 37.6000, 4.4),
  // UK (3)
  createLocation("bar-16", "The Connaught Bar", "World's best bar", "Carlos Pl, London, UK", "bars", 51.5101, -0.1490, 4.7),
  createLocation("bar-17", "Nightjar London", "Live jazz cocktail bar", "129 City Rd, London, UK", "bars", 51.5277, -0.0888, 4.6),
  createLocation("bar-18", "Swift Soho", "Two-floor cocktail bar", "12 Old Compton St, London, UK", "bars", 51.5130, -0.1320, 4.4),
  // Germany (2)
  createLocation("bar-19", "Hofbräuhaus München", "World-famous beer hall", "Platzl 9, 80331 München, Germany", "bars", 48.1376, 11.5799, 4.4, true),
  createLocation("bar-20", "Buck and Breck Berlin", "Intimate cocktail bar", "Brunnenstraße 177, 10119 Berlin, Germany", "bars", 52.5330, 13.3990, 4.5),
  // Japan (3)
  createLocation("bar-21", "Golden Gai Tokyo", "Tiny bar district", "1 Chome Kabukicho, Shinjuku City, Tokyo, Japan", "bars", 35.6937, 139.7036, 4.4),
  createLocation("bar-22", "Bar High Five Tokyo", "World-famous cocktail bar", "Ginza, Tokyo, Japan", "bars", 35.6721, 139.7655, 4.7),
  createLocation("bar-23", "Gen Yamamoto Tokyo", "Omakase cocktails", "Anniversary Bldg, Azabu-Juban, Tokyo, Japan", "bars", 35.6550, 139.7370, 4.7),
  // Spain (2)
  createLocation("bar-24", "Paradiso Barcelona", "Hidden speakeasy", "Carrer de Rera Palau 4, Barcelona, Spain", "bars", 41.3850, 2.1810, 4.7),
  createLocation("bar-25", "Salmon Guru Madrid", "Creative cocktails", "Calle de Echegaray 21, Madrid, Spain", "bars", 40.4150, -3.7010, 4.5),
  // Afrique de l'Ouest (3)
  createLocation("bar-26", "Le Phare du Port Dakar", "Seaside bar in Senegal", "Port de Dakar, Senegal", "bars", 14.6850, -17.4350, 4.2),
  createLocation("bar-27", "Sky Bar Abidjan", "Rooftop bar with city views", "Sofitel Abidjan, Côte d'Ivoire", "bars", 5.3230, -4.0190, 4.3),
  createLocation("bar-28", "Shisha Lounge Lagos", "Nigerian nightlife spot", "Victoria Island, Lagos, Nigeria", "bars", 6.4310, 3.4270, 4.2),
  // Afrique du Nord (2)
  createLocation("bar-29", "Café M'rabet Tunis", "Historic bar in the medina", "Medina, Tunis, Tunisia", "bars", 36.7990, 10.1700, 4.3),
  createLocation("bar-30", "La Mamounia Bar Marrakech", "Legendary hotel bar", "Avenue Bab Jdid, Marrakech, Morocco", "bars", 31.6210, -7.9980, 4.6),
  // Asie Centrale (3)
  createLocation("bar-31", "Line Brew Almaty", "Craft beer bar in Kazakhstan", "Dostyk Ave, Almaty, Kazakhstan", "bars", 43.2350, 76.9410, 4.3),
  createLocation("bar-32", "Steam Bar Tashkent", "Modern cocktail lounge", "Amir Temur Ave, Tashkent, Uzbekistan", "bars", 41.3120, 69.2800, 4.2),
  createLocation("bar-33", "Grand Khaan Irish Pub Ulaanbaatar", "International bar in Mongolia", "Seoul Street, Ulaanbaatar, Mongolia", "bars", 47.9190, 106.9160, 4.1),
  // Cameroun (2)
  createLocation("bar-34", "La Terrasse Douala", "Popular rooftop bar", "Rue Joss, Douala, Cameroon", "bars", 4.0483, 9.7043, 4.2),
  createLocation("bar-35", "Mami Wata Bar Kribi", "Beachside bar in Kribi", "Kribi Beach, South Region, Cameroon", "bars", 2.9400, 9.9100, 4.3),
  // Reste du monde (12)
  createLocation("bar-36", "Speak Low Shanghai", "Hidden speakeasy bar", "579 Fuxing Middle Rd, Shanghai, China", "bars", 31.2179, 121.4553, 4.5),
  createLocation("bar-37", "Atlas Singapore", "Art deco gin bar", "600 North Bridge Rd, Singapore", "bars", 1.2944, 103.8588, 4.6),
  createLocation("bar-38", "The Old Man Hong Kong", "Ernest Hemingway themed", "37-39 Aberdeen St, Hong Kong", "bars", 22.2830, 114.1530, 4.6),
  createLocation("bar-39", "Charles H Seoul", "Speakeasy in Four Seasons", "97 Saemunan-ro, Seoul, South Korea", "bars", 37.5750, 126.9750, 4.6),
  createLocation("bar-40", "Bamboo Bar Bangkok", "Classic hotel cocktail bar", "48 Oriental Ave, Bangkok, Thailand", "bars", 13.7240, 100.5140, 4.5),
  createLocation("bar-41", "Floreria Atlantico Buenos Aires", "Hidden Buenos Aires bar", "Arroyo 872, Buenos Aires, Argentina", "bars", -34.5950, -58.3780, 4.6),
  createLocation("bar-42", "Licorería Limantour Mexico City", "Mexico City's best cocktails", "Av. Álvaro Obregón 106, Mexico City, Mexico", "bars", 19.4170, -99.1620, 4.6),
  createLocation("bar-43", "Maybe Sammy Sydney", "World's best bar finalist", "115 Harrington St, Sydney, Australia", "bars", -33.8610, 151.2070, 4.6),
  createLocation("bar-44", "The Jerry Thomas Project Rome", "Rome speakeasy", "Vicolo Cellini 30, Rome, Italy", "bars", 41.8960, 12.4700, 4.5),
  createLocation("bar-45", "The Temple Bar Dublin", "Famous Dublin pub", "47-48 Temple Bar, Dublin, Ireland", "bars", 53.3456, -6.2640, 4.2),
  createLocation("bar-46", "Delirium Café Brussels", "2000+ beers", "Impasse de la Fidélité 4A, Brussels, Belgium", "bars", 50.8480, 4.3540, 4.4),
  createLocation("bar-47", "PCO Delhi", "Secret cocktail den", "D-4 South Extension Part II, New Delhi, India", "bars", 28.5680, 77.2230, 4.4),

  // ===== PARKS (52) =====
  // France (2)
  createLocation("park-1", "Luxembourg Gardens", "Beautiful 17th-century garden", "Rue de Médicis, 75006 Paris, France", "parks", 48.8462, 2.3371, 4.8),
  createLocation("park-2", "Tuileries Garden", "Historic public garden by the Louvre", "Place de la Concorde, 75001 Paris, France", "parks", 48.8634, 2.3275, 4.7),
  // USA (6)
  createLocation("park-3", "Central Park NYC", "Iconic urban park", "New York, NY 10024, USA", "parks", 40.7829, -73.9654, 4.8, true),
  createLocation("park-4", "Grand Canyon", "Natural wonder", "Grand Canyon, AZ 86023, USA", "parks", 36.0544, -112.1401, 4.9),
  createLocation("park-5", "Yellowstone", "First US national park", "Yellowstone National Park, WY 82190, USA", "parks", 44.4280, -110.5885, 4.9),
  createLocation("park-6", "Yosemite", "Granite cliffs and waterfalls", "Yosemite National Park, CA 95389, USA", "parks", 37.8651, -119.5383, 4.9),
  createLocation("park-7", "Zion National Park", "Red rock canyons", "Springdale, UT 84767, USA", "parks", 37.2982, -113.0263, 4.8),
  createLocation("park-8", "Acadia National Park", "Maine coastal beauty", "Bar Harbor, ME 04609, USA", "parks", 44.3386, -68.2733, 4.8),
  // Canada (4)
  createLocation("park-9", "Banff National Park", "Canadian Rocky Mountains", "Banff, Alberta, Canada", "parks", 51.4968, -115.9281, 4.9),
  createLocation("park-10", "Stanley Park Vancouver", "Urban oasis", "Vancouver, BC, Canada", "parks", 49.3017, -123.1417, 4.8),
  createLocation("park-11", "Niagara Falls", "Spectacular waterfalls", "Niagara Falls, Ontario, Canada", "parks", 43.0896, -79.0849, 4.7),
  createLocation("park-12", "Jasper National Park", "Rocky Mountain wilderness", "Jasper, Alberta, Canada", "parks", 52.8737, -117.9550, 4.8),
  // Russia (4)
  createLocation("park-13", "Gorky Park Moscow", "Moscow's central park", "Krymsky Val 9, Moscow, Russia", "parks", 55.7310, 37.6010, 4.5),
  createLocation("park-14", "Peterhof Palace Gardens", "Imperial gardens", "St. Petersburg, Russia", "parks", 59.8863, 29.9087, 4.8),
  createLocation("park-15", "Lake Baikal", "World's deepest lake", "Irkutsk Oblast, Russia", "parks", 53.5587, 108.1650, 4.9),
  createLocation("park-16", "Kamchatka Peninsula", "Volcanic wilderness", "Kamchatka Krai, Russia", "parks", 53.0129, 158.6530, 4.8),
  // Japan (3)
  createLocation("park-17", "Shinjuku Gyoen", "Beautiful traditional garden", "11 Naitomachi, Shinjuku City, Tokyo, Japan", "parks", 35.6852, 139.7100, 4.7),
  createLocation("park-18", "Arashiyama Bamboo Grove", "Iconic bamboo forest", "Arashiyama, Ukyo Ward, Kyoto, Japan", "parks", 35.0094, 135.6722, 4.6),
  createLocation("park-19", "Nara Park", "Park with friendly deer", "Nara, Japan", "parks", 34.6851, 135.8048, 4.7),
  // UK (2)
  createLocation("park-20", "Hyde Park London", "Royal park in central London", "Hyde Park, London, UK", "parks", 51.5073, -0.1657, 4.6),
  createLocation("park-21", "Lake District", "Beautiful national park", "Lake District, Cumbria, UK", "parks", 54.4609, -3.0886, 4.8),
  // Afrique de l'Ouest (4)
  createLocation("park-22", "Pendjari National Park", "Wildlife reserve in Benin", "Atakora, Benin", "parks", 11.4160, 1.4810, 4.5),
  createLocation("park-23", "Mole National Park", "Ghana's largest wildlife refuge", "Northern Region, Ghana", "parks", 9.6170, -1.8530, 4.4),
  createLocation("park-24", "Niokolo-Koba National Park", "UNESCO Senegal reserve", "Tambacounda Region, Senegal", "parks", 13.0670, -12.7170, 4.5),
  createLocation("park-25", "Yankari Game Reserve", "Nigerian wildlife park", "Bauchi State, Nigeria", "parks", 9.7500, 10.5000, 4.3),
  // Afrique du Nord (2)
  createLocation("park-26", "Sahara Desert Morocco", "Merzouga dunes", "Merzouga, Morocco", "parks", 31.0990, -3.9990, 4.7),
  createLocation("park-27", "Ichkeul National Park", "UNESCO Tunisia wetland", "Bizerte, Tunisia", "parks", 37.1640, 9.6740, 4.4),
  // Asie Centrale (5)
  createLocation("park-28", "Charyn Canyon", "Kazakhstan's Grand Canyon", "Almaty Region, Kazakhstan", "parks", 43.3510, 79.0810, 4.6),
  createLocation("park-29", "Registan Square Gardens", "Historic Samarkand oasis", "Samarkand, Uzbekistan", "parks", 39.6540, 66.9760, 4.7),
  createLocation("park-30", "Ala Archa National Park", "Alpine park in Kyrgyzstan", "Bishkek, Kyrgyzstan", "parks", 42.5310, 74.4880, 4.5),
  createLocation("park-31", "Gorkhi-Terelj National Park", "Mongolian wilderness", "Ulaanbaatar, Mongolia", "parks", 47.8030, 107.4670, 4.6),
  createLocation("park-32", "Iskanderkul Lake", "Mountain lake in Tajikistan", "Sughd Region, Tajikistan", "parks", 39.0860, 68.3830, 4.5),
  // Cameroun & Afrique (4)
  createLocation("park-33", "Waza National Park", "Premier Cameroon safari", "Far North Region, Cameroon", "parks", 11.3167, 14.6500, 4.6),
  createLocation("park-34", "Mount Cameroon National Park", "Africa's highest peak in West Africa", "Buea, Southwest Region, Cameroon", "parks", 4.2170, 9.1700, 4.6),
  createLocation("park-35", "Masai Mara", "Famous safari destination", "Narok County, Kenya", "parks", -1.5000, 35.0000, 4.9, true),
  createLocation("park-36", "Serengeti", "World-renowned safari park", "Serengeti, Tanzania", "parks", -2.3333, 34.8333, 4.9),
  // Reste du monde (16)
  createLocation("park-37", "Kruger National Park", "Premier safari destination", "Limpopo, South Africa", "parks", -23.9884, 31.5547, 4.8),
  createLocation("park-38", "Table Mountain", "Iconic flat-topped mountain", "Cape Town, South Africa", "parks", -33.9628, 18.4098, 4.8),
  createLocation("park-39", "Iguazu Falls", "Spectacular waterfalls", "Foz do Iguaçu, Brazil", "parks", -25.6953, -54.4367, 4.9),
  createLocation("park-40", "Torres del Paine", "Stunning national park", "Magallanes, Chile", "parks", -50.9423, -73.4068, 4.9),
  createLocation("park-41", "Galápagos Islands", "Unique wildlife archipelago", "Galápagos Islands, Ecuador", "parks", -0.9538, -90.9656, 4.9),
  createLocation("park-42", "Ha Long Bay", "UNESCO limestone karst seascape", "Quang Ninh Province, Vietnam", "parks", 20.9101, 107.1839, 4.8),
  createLocation("park-43", "Gardens by the Bay", "Futuristic nature park", "18 Marina Gardens Dr, Singapore", "parks", 1.2816, 103.8636, 4.8),
  createLocation("park-44", "Great Barrier Reef", "World's largest coral reef", "Queensland, Australia", "parks", -18.2871, 147.6992, 4.9),
  createLocation("park-45", "Uluru", "Sacred sandstone monolith", "NT, Australia", "parks", -25.3444, 131.0369, 4.8),
  createLocation("park-46", "Milford Sound", "Fiord in New Zealand", "Fiordland, New Zealand", "parks", -44.6414, 167.8987, 4.9),
  createLocation("park-47", "Santorini Caldera", "Stunning volcanic island", "Santorini, Greece", "parks", 36.4167, 25.4333, 4.8),
  createLocation("park-48", "Geirangerfjord", "UNESCO World Heritage fjord", "Geiranger, Norway", "parks", 62.1008, 7.0956, 4.9),
  createLocation("park-49", "Wadi Rum", "Mars-like desert landscape", "Aqaba, Jordan", "parks", 29.5833, 35.4333, 4.7),
  createLocation("park-50", "Jeju Island", "Volcanic island paradise", "Jeju Island, South Korea", "parks", 33.4996, 126.5312, 4.7),
  createLocation("park-51", "Plitvice Lakes", "UNESCO cascading lakes", "Croatia", "parks", 44.8654, 15.5820, 4.8),
  createLocation("park-52", "Swiss Alps Jungfrau", "Alpine wonderland", "Jungfrau Region, Switzerland", "parks", 46.5370, 7.9620, 4.8),

  // ===== MUSEUMS (49) =====
  // France (3)
  createLocation("mus-1", "Louvre Museum", "World's largest art museum", "Rue de Rivoli, 75001 Paris, France", "museums", 48.8606, 2.3376, 4.8, true),
  createLocation("mus-2", "Musée d'Orsay", "Impressionist art museum", "1 Rue de la Légion d'Honneur, Paris, France", "museums", 48.8600, 2.3266, 4.9),
  createLocation("mus-3", "Château de Versailles", "Opulent royal palace", "Place d'Armes, Versailles, France", "museums", 48.8049, 2.1204, 4.8),
  // USA (4)
  createLocation("mus-4", "Metropolitan Museum of Art", "World's largest art museum", "1000 5th Ave, New York, NY 10028, USA", "museums", 40.7794, -73.9632, 4.8),
  createLocation("mus-5", "Smithsonian Museums", "Free museums complex", "Washington, DC 20560, USA", "museums", 38.8881, -77.0260, 4.8),
  createLocation("mus-6", "MoMA NYC", "Modern art museum", "11 W 53rd St, New York, NY 10019, USA", "museums", 40.7614, -73.9776, 4.7),
  createLocation("mus-7", "Getty Center LA", "Art and architecture", "1200 Getty Center Dr, Los Angeles, CA 90049, USA", "museums", 34.0780, -118.4740, 4.7),
  // Canada (3)
  createLocation("mus-8", "Royal Ontario Museum Toronto", "Natural history and world cultures", "100 Queens Park, Toronto, ON, Canada", "museums", 43.6677, -79.3948, 4.6),
  createLocation("mus-9", "Montreal Museum of Fine Arts", "Quebec's largest museum", "1380 Sherbrooke St W, Montreal, QC, Canada", "museums", 45.4986, -73.5795, 4.6),
  createLocation("mus-10", "Canadian Museum of History", "Ottawa's premier museum", "100 Laurier St, Gatineau, QC, Canada", "museums", 45.4309, -75.7093, 4.5),
  // Russia (4)
  createLocation("mus-11", "Hermitage Museum", "World's largest art museum", "Palace Square, Saint Petersburg, Russia", "museums", 59.9398, 30.3146, 4.9),
  createLocation("mus-12", "Kremlin Moscow", "Historic fortified complex", "Red Square, Moscow, Russia", "museums", 55.7520, 37.6175, 4.8),
  createLocation("mus-13", "Tretyakov Gallery", "Russian art collection", "Lavrushinsky Lane 10, Moscow, Russia", "museums", 55.7415, 37.6208, 4.7),
  createLocation("mus-14", "Peterhof Palace", "Russian Versailles", "Razvodnaya St 2, Peterhof, Russia", "museums", 59.8863, 29.9087, 4.8),
  // UK (3)
  createLocation("mus-15", "British Museum", "World history museum", "Great Russell St, London, UK", "museums", 51.5194, -0.1270, 4.8, true),
  createLocation("mus-16", "Tate Modern", "Modern art museum", "Bankside, London, UK", "museums", 51.5076, -0.0994, 4.7),
  createLocation("mus-17", "Edinburgh Castle", "Historic Scottish castle", "Castlehill, Edinburgh, UK", "museums", 55.9486, -3.1999, 4.7),
  // Italy (3)
  createLocation("mus-18", "Vatican Museums", "Papal art collection", "Vatican City", "museums", 41.9065, 12.4536, 4.8),
  createLocation("mus-19", "Colosseum", "Ancient Roman amphitheater", "Piazza del Colosseo, Rome, Italy", "museums", 41.8902, 12.4922, 4.8, true),
  createLocation("mus-20", "Uffizi Gallery", "Renaissance art masterpieces", "Piazzale degli Uffizi, Florence, Italy", "museums", 43.7687, 11.2554, 4.8),
  // Afrique de l'Ouest (3)
  createLocation("mus-21", "IFAN Museum Dakar", "West African art collection", "Place Soweto, Dakar, Senegal", "museums", 14.6920, -17.4440, 4.3),
  createLocation("mus-22", "National Museum Lagos", "Nigerian cultural heritage", "Onikan, Lagos, Nigeria", "museums", 6.4430, 3.4050, 4.2),
  createLocation("mus-23", "Kwame Nkrumah Memorial", "Ghana's founding father", "High St, Accra, Ghana", "museums", 5.5480, -0.2060, 4.3),
  // Afrique du Nord (3)
  createLocation("mus-24", "Pyramids of Giza", "Ancient wonder", "Giza, Egypt", "museums", 29.9792, 31.1342, 4.8, true),
  createLocation("mus-25", "Bardo National Museum", "Roman mosaics collection", "Tunis, Tunisia", "museums", 36.8090, 10.1340, 4.5),
  createLocation("mus-26", "Majorelle Garden Museum", "Yves Saint Laurent collection", "Marrakech, Morocco", "museums", 31.6416, -8.0030, 4.6),
  // Asie Centrale (4)
  createLocation("mus-27", "National Museum of Kazakhstan", "Kazakh history and culture", "Nur-Sultan, Kazakhstan", "museums", 51.1280, 71.4300, 4.4),
  createLocation("mus-28", "Registan Complex", "Silk Road architecture", "Samarkand, Uzbekistan", "museums", 39.6540, 66.9760, 4.8),
  createLocation("mus-29", "State History Museum Bishkek", "Kyrgyz heritage", "Ala-Too Square, Bishkek, Kyrgyzstan", "museums", 42.8746, 74.6048, 4.2),
  createLocation("mus-30", "Genghis Khan Statue Complex", "Mongolian history monument", "Tsonjin Boldog, Mongolia", "museums", 47.8070, 107.5270, 4.5),
  // Japan (3)
  createLocation("mus-31", "Senso-ji Temple", "Ancient Buddhist temple", "Asakusa, Tokyo, Japan", "museums", 35.7148, 139.7967, 4.7),
  createLocation("mus-32", "Fushimi Inari Shrine", "Thousands of orange torii", "Fushimi, Kyoto, Japan", "museums", 34.9671, 135.7727, 4.8),
  createLocation("mus-33", "teamLab Borderless", "Immersive digital art", "Odaiba, Tokyo, Japan", "museums", 35.6265, 139.7843, 4.6),
  // China (3)
  createLocation("mus-34", "The Great Wall", "Ancient wonder of the world", "Beijing, China", "museums", 40.4319, 116.5704, 4.9, true),
  createLocation("mus-35", "Forbidden City", "Imperial palace complex", "Beijing, China", "museums", 39.9163, 116.3972, 4.8),
  createLocation("mus-36", "Terracotta Army", "Ancient warrior statues", "Xi'an, China", "museums", 34.3847, 109.2785, 4.8),
  // Reste du monde (13)
  createLocation("mus-37", "Egyptian Museum", "Vast collection of antiquities", "Cairo, Egypt", "museums", 30.0478, 31.2336, 4.6),
  createLocation("mus-38", "Taj Mahal", "Iconic marble mausoleum", "Agra, India", "museums", 27.1751, 78.0421, 4.9, true),
  createLocation("mus-39", "Machu Picchu", "Ancient Incan citadel", "Cusco, Peru", "museums", -13.1631, -72.5450, 4.9, true),
  createLocation("mus-40", "Chichen Itza", "Ancient Mayan pyramid", "Yucatan, Mexico", "museums", 20.6843, -88.5678, 4.8),
  createLocation("mus-41", "Christ the Redeemer", "Iconic Rio statue", "Rio de Janeiro, Brazil", "museums", -22.9519, -43.2105, 4.8),
  createLocation("mus-42", "Acropolis of Athens", "Ancient citadel", "Athens, Greece", "museums", 37.9715, 23.7267, 4.8),
  createLocation("mus-43", "Petra", "Ancient rose-red city", "Petra, Jordan", "museums", 30.3285, 35.4444, 4.9, true),
  createLocation("mus-44", "Angkor Wat", "World's largest religious monument", "Siem Reap, Cambodia", "museums", 13.4125, 103.8670, 4.9),
  createLocation("mus-45", "Sydney Opera House", "Iconic performing arts venue", "Sydney, Australia", "museums", -33.8568, 151.2153, 4.8),
  createLocation("mus-46", "Prague Castle", "Largest ancient castle complex", "Prague, Czech Republic", "museums", 50.0911, 14.4008, 4.7),
  createLocation("mus-47", "Gyeongbokgung Palace", "Main royal palace of Joseon", "Seoul, South Korea", "museums", 37.5796, 126.9770, 4.7),
  createLocation("mus-48", "Borobudur Temple", "Largest Buddhist temple", "Central Java, Indonesia", "museums", -7.6079, 110.2038, 4.8),
  createLocation("mus-49", "Grand Palace Bangkok", "Royal palace complex", "Bangkok, Thailand", "museums", 13.7500, 100.4914, 4.7),

  // ===== SHOPS (53) =====
  // France (2)
  createLocation("shop-1", "Galeries Lafayette", "Art Nouveau department store", "40 Boulevard Haussmann, Paris, France", "shops", 48.8738, 2.3320, 4.2),
  createLocation("shop-2", "Le Bon Marché", "World's oldest department store", "24 Rue de Sèvres, Paris, France", "shops", 48.8510, 2.3254, 4.4),
  // USA (4)
  createLocation("shop-3", "Fifth Avenue NYC", "Famous shopping boulevard", "Fifth Avenue, New York, NY, USA", "shops", 40.7580, -73.9778, 4.5),
  createLocation("shop-4", "Rodeo Drive", "Luxury shopping street", "Rodeo Dr, Beverly Hills, CA 90210, USA", "shops", 34.0674, -118.4003, 4.5),
  createLocation("shop-5", "Pike Place Market", "Historic Seattle market", "85 Pike St, Seattle, WA 98101, USA", "shops", 47.6097, -122.3425, 4.7),
  createLocation("shop-6", "The Grove LA", "Outdoor shopping center", "189 The Grove Dr, Los Angeles, CA 90036, USA", "shops", 34.0720, -118.3580, 4.4),
  // Canada (3)
  createLocation("shop-7", "Eaton Centre Toronto", "Downtown shopping mall", "220 Yonge St, Toronto, ON, Canada", "shops", 43.6544, -79.3807, 4.4),
  createLocation("shop-8", "Granville Island Market Vancouver", "Public market", "1661 Duranleau St, Vancouver, BC, Canada", "shops", 49.2724, -123.1340, 4.6),
  createLocation("shop-9", "Jean-Talon Market Montreal", "Open-air market", "7070 Avenue Henri-Julien, Montreal, QC, Canada", "shops", 45.5370, -73.6150, 4.5),
  // Russia (3)
  createLocation("shop-10", "GUM Moscow", "Historic department store", "Red Square 3, Moscow, Russia", "shops", 55.7550, 37.6215, 4.5),
  createLocation("shop-11", "Gostiny Dvor St Petersburg", "Historic shopping arcade", "Nevsky Prospekt, St. Petersburg, Russia", "shops", 59.9340, 30.3350, 4.4),
  createLocation("shop-12", "Izmailovsky Market Moscow", "Flea market and crafts", "Izmailovo, Moscow, Russia", "shops", 55.7890, 37.7480, 4.3),
  // UK (2)
  createLocation("shop-13", "Harrods London", "Luxury department store", "87-135 Brompton Rd, London, UK", "shops", 51.4994, -0.1633, 4.6),
  createLocation("shop-14", "Borough Market", "Historic food market", "8 Southwark St, London, UK", "shops", 51.5055, -0.0910, 4.6),
  // Japan (4)
  createLocation("shop-15", "Tsukiji Outer Market", "Famous fish market area", "Tsukiji, Tokyo, Japan", "shops", 35.6654, 139.7707, 4.5),
  createLocation("shop-16", "Ginza Six", "Upscale shopping complex", "Ginza, Tokyo, Japan", "shops", 35.6698, 139.7625, 4.4),
  createLocation("shop-17", "Takeshita Street", "Teen fashion paradise", "Harajuku, Tokyo, Japan", "shops", 35.6710, 139.7025, 4.3),
  createLocation("shop-18", "Nishiki Market Kyoto", "Kyoto's kitchen", "Nakagyo, Kyoto, Japan", "shops", 35.0050, 135.7640, 4.5),
  // Afrique de l'Ouest (4)
  createLocation("shop-19", "Sandaga Market Dakar", "Vibrant Senegalese market", "Dakar, Senegal", "shops", 14.6710, -17.4410, 4.2),
  createLocation("shop-20", "Treichville Market Abidjan", "Biggest market in Côte d'Ivoire", "Treichville, Abidjan, Côte d'Ivoire", "shops", 5.3010, -3.9960, 4.1),
  createLocation("shop-21", "Makola Market Accra", "Ghana's largest market", "Central Accra, Ghana", "shops", 5.5530, -0.2110, 4.2),
  createLocation("shop-22", "Balogun Market Lagos", "Nigeria's commercial heart", "Lagos Island, Nigeria", "shops", 6.4530, 3.3950, 4.1),
  // Afrique du Nord (3)
  createLocation("shop-23", "Marrakech Souks", "Traditional market maze", "Marrakech, Morocco", "shops", 31.6310, -7.9860, 4.5),
  createLocation("shop-24", "Khan el-Khalili Cairo", "Historic market", "Cairo, Egypt", "shops", 30.0478, 31.2625, 4.4),
  createLocation("shop-25", "Medina of Tunis", "UNESCO heritage souk", "Tunis, Tunisia", "shops", 36.7990, 10.1700, 4.4),
  // Asie Centrale (4)
  createLocation("shop-26", "Green Bazaar Almaty", "Central Asian market", "Zhibek Zholy, Almaty, Kazakhstan", "shops", 43.2560, 76.9450, 4.3),
  createLocation("shop-27", "Chorsu Bazaar Tashkent", "Historic Uzbek market", "Old City, Tashkent, Uzbekistan", "shops", 41.3260, 69.2340, 4.5),
  createLocation("shop-28", "Osh Bazaar Bishkek", "Kyrgyz trading hub", "Bishkek, Kyrgyzstan", "shops", 42.8720, 74.5870, 4.3),
  createLocation("shop-29", "Narantuul Market Ulaanbaatar", "Mongolian black market", "Ulaanbaatar, Mongolia", "shops", 47.9260, 106.8760, 4.2),
  // Cameroun & Afrique (3)
  createLocation("shop-30", "Marché Central Douala", "Vibrant central market", "Douala, Cameroon", "shops", 4.0500, 9.7028, 4.0),
  createLocation("shop-31", "Artisanat de Foumban", "Traditional crafts market", "Foumban, Cameroon", "shops", 5.7250, 10.9000, 4.4),
  createLocation("shop-32", "V&A Waterfront Cape Town", "Shopping complex", "Cape Town, South Africa", "shops", -33.9036, 18.4206, 4.5),
  // Reste du monde (16)
  createLocation("shop-33", "Chatuchak Weekend Market", "World's largest weekend market", "Bangkok, Thailand", "shops", 13.7999, 100.5502, 4.5),
  createLocation("shop-34", "Myeongdong Seoul", "Popular shopping district", "Seoul, South Korea", "shops", 37.5606, 126.9850, 4.4),
  createLocation("shop-35", "Orchard Road Singapore", "Famous shopping belt", "Singapore", "shops", 1.3050, 103.8318, 4.5),
  createLocation("shop-36", "Grand Bazaar Istanbul", "World's largest covered market", "Istanbul, Turkey", "shops", 41.0106, 28.9680, 4.5),
  createLocation("shop-37", "Dubai Mall", "World's largest shopping mall", "Dubai, UAE", "shops", 25.1976, 55.2793, 4.6),
  createLocation("shop-38", "Temple Street Night Market", "Famous Hong Kong night market", "Hong Kong", "shops", 22.3059, 114.1688, 4.3),
  createLocation("shop-39", "Nanjing Road Shanghai", "Famous shopping street", "Shanghai, China", "shops", 31.2352, 121.4755, 4.4),
  createLocation("shop-40", "Ben Thanh Market HCMC", "Landmark market", "Ho Chi Minh City, Vietnam", "shops", 10.7725, 106.6980, 4.3),
  createLocation("shop-41", "Chandni Chowk Delhi", "Historic market street", "Old Delhi, India", "shops", 28.6505, 77.2303, 4.3),
  createLocation("shop-42", "Queen Victoria Market Melbourne", "Historic market", "Melbourne, Australia", "shops", -37.8075, 144.9568, 4.5),
  createLocation("shop-43", "Mercado de San Juan Mexico City", "Gourmet food market", "Mexico City, Mexico", "shops", 19.4290, -99.1420, 4.4),
  createLocation("shop-44", "San Pedro Market Cusco", "Traditional Andean market", "Cusco, Peru", "shops", -13.5180, -71.9800, 4.3),
  createLocation("shop-45", "Ubud Art Market Bali", "Traditional Balinese crafts", "Ubud, Bali, Indonesia", "shops", -8.5069, 115.2625, 4.4),
  createLocation("shop-46", "Jiufen Old Street Taiwan", "Historic mountain village", "New Taipei City, Taiwan", "shops", 25.1092, 121.8443, 4.5),
  createLocation("shop-47", "Via Montenapoleone Milan", "Luxury fashion street", "Milan, Italy", "shops", 45.4685, 9.1955, 4.5),
  createLocation("shop-48", "La Boqueria Barcelona", "Famous food market", "Barcelona, Spain", "shops", 41.3816, 2.1720, 4.5),
  createLocation("shop-49", "Naschmarkt Vienna", "Vienna's most popular market", "Vienna, Austria", "shops", 48.1990, 16.3630, 4.4),
  createLocation("shop-50", "Paloquemao Market Bogotá", "Bogotá's largest market", "Bogotá, Colombia", "shops", 4.6297, -74.0897, 4.3),
  createLocation("shop-51", "Gold Souk Dubai", "Traditional gold market", "Dubai, UAE", "shops", 25.2867, 55.2979, 4.4),
  createLocation("shop-52", "Spice Bazaar Istanbul", "Historic spice market", "Istanbul, Turkey", "shops", 41.0167, 28.9700, 4.4),
  createLocation("shop-53", "Fremantle Markets Perth", "Heritage market in Western Australia", "Fremantle, Perth, Australia", "shops", -32.0569, 115.7489, 4.4),

  // ===== HOTELS (42) =====
  // France (3)
  createLocation("hotel-1", "Hôtel Plaza Athénée", "Legendary palace hotel", "25 Avenue Montaigne, Paris, France", "hotels", 48.8660, 2.3043, 4.9, true),
  createLocation("hotel-2", "The Ritz Paris", "Legendary luxury hotel", "15 Place Vendôme, Paris, France", "hotels", 48.8678, 2.3289, 4.9),
  createLocation("hotel-3", "Le Bristol Paris", "Historic palace hotel", "112 Rue du Faubourg Saint-Honoré, Paris, France", "hotels", 48.8715, 2.3159, 4.8),
  // USA (4)
  createLocation("hotel-4", "The Plaza NYC", "Iconic luxury hotel", "768 5th Ave, New York, NY 10019, USA", "hotels", 40.7645, -73.9743, 4.7, true),
  createLocation("hotel-5", "The Venetian Las Vegas", "Luxury Vegas resort", "Las Vegas, NV 89109, USA", "hotels", 36.1215, -115.1739, 4.6),
  createLocation("hotel-6", "Four Seasons Beverly Hills", "Luxury LA hotel", "Los Angeles, CA 90048, USA", "hotels", 34.0703, -118.3898, 4.7),
  createLocation("hotel-7", "Waldorf Astoria NYC", "Art Deco landmark", "301 Park Ave, New York, NY 10022, USA", "hotels", 40.7566, -73.9725, 4.6),
  // Canada (3)
  createLocation("hotel-8", "Fairmont Banff Springs", "Castle in the Rockies", "405 Spray Ave, Banff, AB, Canada", "hotels", 51.1670, -115.5620, 4.7),
  createLocation("hotel-9", "Fairmont Le Château Frontenac", "Iconic Quebec City hotel", "1 Rue des Carrières, Quebec City, QC, Canada", "hotels", 46.8117, -71.2038, 4.6),
  createLocation("hotel-10", "Shangri-La Toronto", "Luxury downtown hotel", "188 University Ave, Toronto, ON, Canada", "hotels", 43.6500, -79.3850, 4.6),
  // Russia (3)
  createLocation("hotel-11", "Hotel Metropol Moscow", "Historic luxury hotel", "Teatralny Proezd 2, Moscow, Russia", "hotels", 55.7580, 37.6210, 4.6),
  createLocation("hotel-12", "Grand Hotel Europe St Petersburg", "Imperial elegance", "Mikhailovskaya St 1/7, St. Petersburg, Russia", "hotels", 59.9350, 30.3330, 4.7),
  createLocation("hotel-13", "Four Seasons Moscow", "Luxury near Red Square", "Okhotny Ryad 2, Moscow, Russia", "hotels", 55.7570, 37.6160, 4.8),
  // UK (2)
  createLocation("hotel-14", "The Savoy London", "Iconic luxury hotel", "Strand, London, UK", "hotels", 51.5103, -0.1205, 4.7),
  createLocation("hotel-15", "Claridge's London", "Art deco luxury hotel", "Brook St, London, UK", "hotels", 51.5127, -0.1481, 4.8),
  // Japan (2)
  createLocation("hotel-16", "Park Hyatt Tokyo", "Lost in Translation hotel", "Shinjuku, Tokyo, Japan", "hotels", 35.6864, 139.6902, 4.8, true),
  createLocation("hotel-17", "Aman Tokyo", "Ultra-luxury hotel", "Otemachi, Tokyo, Japan", "hotels", 35.6867, 139.7622, 4.9),
  // Afrique de l'Ouest (3)
  createLocation("hotel-18", "Terrou-Bi Dakar", "Luxury beachfront resort", "Route de la Corniche, Dakar, Senegal", "hotels", 14.6990, -17.4720, 4.4),
  createLocation("hotel-19", "Sofitel Abidjan Ivoire", "Luxury hotel with casino", "Boulevard Hassan II, Abidjan, Côte d'Ivoire", "hotels", 5.3170, -4.0170, 4.4),
  createLocation("hotel-20", "Labadi Beach Hotel Accra", "Ghana's premier hotel", "No 1 La Beach Road, Accra, Ghana", "hotels", 5.5530, -0.1530, 4.3),
  // Afrique du Nord (2)
  createLocation("hotel-21", "La Mamounia Marrakech", "Legendary palace hotel", "Avenue Bab Jdid, Marrakech, Morocco", "hotels", 31.6206, -7.9988, 4.8),
  createLocation("hotel-22", "Four Seasons Resort Tunis", "Mediterranean luxury", "Zone Touristique Gammarth, Tunisia", "hotels", 36.9020, 10.2790, 4.6),
  // Asie Centrale (3)
  createLocation("hotel-23", "The Ritz-Carlton Almaty", "Luxury in Kazakhstan", "Esentai Tower, Almaty, Kazakhstan", "hotels", 43.2180, 76.9260, 4.6),
  createLocation("hotel-24", "Hyatt Regency Tashkent", "Modern Uzbek luxury", "Navoi St 1A, Tashkent, Uzbekistan", "hotels", 41.3110, 69.2800, 4.5),
  createLocation("hotel-25", "Shangri-La Ulaanbaatar", "Mongolian luxury", "Olympic St 19A, Ulaanbaatar, Mongolia", "hotels", 47.9130, 106.9200, 4.5),
  // Cameroun & Afrique (4)
  createLocation("hotel-26", "Hilton Yaoundé", "Luxury hotel in the capital", "Yaoundé, Cameroon", "hotels", 3.8667, 11.5167, 4.5),
  createLocation("hotel-27", "Le Méridien Douala", "Premium beachside hotel", "Douala, Cameroon", "hotels", 4.0500, 9.7000, 4.3),
  createLocation("hotel-28", "Kribi Beach Resort", "Beautiful coastal resort", "Kribi, Cameroon", "hotels", 2.9500, 9.9167, 4.4),
  createLocation("hotel-29", "Giraffe Manor Nairobi", "Unique giraffe experience", "Nairobi, Kenya", "hotels", -1.3780, 36.7450, 4.8),
  // Reste du monde (13)
  createLocation("hotel-30", "Marina Bay Sands Singapore", "Iconic infinity pool", "Singapore", "hotels", 1.2834, 103.8607, 4.7, true),
  createLocation("hotel-31", "Mandarin Oriental Bangkok", "Legendary riverside hotel", "Bangkok, Thailand", "hotels", 13.7241, 100.5140, 4.9),
  createLocation("hotel-32", "Peninsula Shanghai", "Luxury art deco hotel", "Shanghai, China", "hotels", 31.2416, 121.4905, 4.8),
  createLocation("hotel-33", "Mandarin Oriental Hong Kong", "Iconic harbour hotel", "Hong Kong", "hotels", 22.2820, 114.1588, 4.8),
  createLocation("hotel-34", "The Shilla Seoul", "Luxury hotel in Jangchung", "Seoul, South Korea", "hotels", 37.5575, 127.0053, 4.7),
  createLocation("hotel-35", "Burj Al Arab Dubai", "Iconic sail-shaped hotel", "Dubai, UAE", "hotels", 25.1412, 55.1853, 4.7),
  createLocation("hotel-36", "Cape Grace Cape Town", "Waterfront luxury", "Cape Town, South Africa", "hotels", -33.9080, 18.4200, 4.6),
  createLocation("hotel-37", "Park Hyatt Sydney", "Luxury harbour hotel", "Sydney, Australia", "hotels", -33.8573, 151.2092, 4.7),
  createLocation("hotel-38", "Belmond Copacabana Palace", "Legendary beachfront", "Rio de Janeiro, Brazil", "hotels", -22.9669, -43.1779, 4.7),
  createLocation("hotel-39", "Taj Mahal Palace Mumbai", "Historic luxury hotel", "Mumbai, India", "hotels", 18.9217, 72.8332, 4.7),
  createLocation("hotel-40", "Hotel Hassler Roma", "Luxury at Spanish Steps", "Rome, Italy", "hotels", 41.9059, 12.4835, 4.7),
  createLocation("hotel-41", "Soneva Fushi Maldives", "Barefoot luxury resort", "Maldives", "hotels", 5.1100, 73.0700, 4.9),
  createLocation("hotel-42", "Amanjiwo Java", "Temple view luxury", "Borobudur, Indonesia", "hotels", -7.6140, 110.2100, 4.8),

  // ===== GYMS (32) =====
  // France (2)
  createLocation("gym-1", "Ken Club Paris", "Premium fitness club with spa", "Paris, France", "gyms", 48.8556, 2.2755, 4.6),
  createLocation("gym-2", "L'Usine Paris", "Trendy fitness concept", "Paris, France", "gyms", 48.8710, 2.3370, 4.4),
  // USA (5)
  createLocation("gym-3", "Equinox NYC", "Premium fitness club", "897 Broadway, New York, NY 10003, USA", "gyms", 40.7378, -73.9909, 4.3),
  createLocation("gym-4", "Barry's Bootcamp LA", "Intense fitness studio", "Venice, CA 90291, USA", "gyms", 33.9926, -118.4658, 4.4),
  createLocation("gym-5", "SoulCycle NYC", "Spinning fitness studio", "New York, NY 10001, USA", "gyms", 40.7449, -73.9903, 4.3),
  createLocation("gym-6", "CrossFit Games Gym", "Elite CrossFit training", "Los Angeles, CA 90015, USA", "gyms", 34.0340, -118.2700, 4.5),
  createLocation("gym-7", "Dogpound NYC", "Celebrity trainer gym", "New York, NY 10013, USA", "gyms", 40.7250, -74.0050, 4.5),
  // Canada (2)
  createLocation("gym-8", "Equinox Toronto", "Luxury fitness club", "Toronto, Canada", "gyms", 43.6700, -79.3860, 4.4),
  createLocation("gym-9", "Orangetheory Vancouver", "Heart-rate based training", "Vancouver, BC, Canada", "gyms", 49.2780, -123.1200, 4.3),
  // Russia (2)
  createLocation("gym-10", "World Class Moscow", "Premium Russian chain", "Romanov Dvor, Moscow, Russia", "gyms", 55.7570, 37.6130, 4.4),
  createLocation("gym-11", "X-Fit St Petersburg", "Fitness chain", "Nevsky Prospekt, St. Petersburg, Russia", "gyms", 59.9340, 30.3280, 4.2),
  // UK (2)
  createLocation("gym-12", "Third Space London", "Luxury fitness club", "London, UK", "gyms", 51.5050, -0.0196, 4.5),
  createLocation("gym-13", "1Rebel London", "Boutique fitness studio", "London, UK", "gyms", 51.5148, -0.0805, 4.4),
  // Japan (2)
  createLocation("gym-14", "Golds Gym Harajuku", "Popular fitness center", "Tokyo, Japan", "gyms", 35.6702, 139.7027, 4.2),
  createLocation("gym-15", "Anytime Fitness Tokyo", "24-hour gym chain", "Tokyo, Japan", "gyms", 35.6620, 139.7000, 4.1),
  // Afrique de l'Ouest (2)
  createLocation("gym-16", "Body & Soul Dakar", "Senegalese fitness center", "Almadies, Dakar, Senegal", "gyms", 14.7420, -17.5140, 4.1),
  createLocation("gym-17", "The Gym Lagos", "Nigerian fitness facility", "Victoria Island, Lagos, Nigeria", "gyms", 6.4300, 3.4240, 4.2),
  // Afrique du Nord (2)
  createLocation("gym-18", "Gold's Gym Cairo", "International chain in Egypt", "Zamalek, Cairo, Egypt", "gyms", 30.0600, 31.2200, 4.2),
  createLocation("gym-19", "Moving Marrakech", "Moroccan fitness studio", "Gueliz, Marrakech, Morocco", "gyms", 31.6350, -8.0100, 4.1),
  // Asie Centrale (2)
  createLocation("gym-20", "World Class Almaty", "Premium Kazakh gym", "Al-Farabi Ave, Almaty, Kazakhstan", "gyms", 43.2200, 76.9300, 4.3),
  createLocation("gym-21", "Sport Life Tashkent", "Uzbek fitness chain", "Tashkent, Uzbekistan", "gyms", 41.3100, 69.2750, 4.1),
  // Reste du monde (11)
  createLocation("gym-22", "Pure Fitness Hong Kong", "Luxury fitness club", "Hong Kong", "gyms", 22.2840, 114.1520, 4.4),
  createLocation("gym-23", "Pure Fitness Singapore", "Premium fitness club", "Singapore", "gyms", 1.2820, 103.8530, 4.4),
  createLocation("gym-24", "WXY Fitness Seoul", "Premium Korean gym", "Seoul, South Korea", "gyms", 37.5170, 127.0470, 4.3),
  createLocation("gym-25", "Base Bangkok", "CrossFit and functional fitness", "Bangkok, Thailand", "gyms", 13.7220, 100.5690, 4.4),
  createLocation("gym-26", "Fitness First UAE", "Premium fitness chain", "Dubai, UAE", "gyms", 25.1980, 55.2790, 4.3),
  createLocation("gym-27", "F45 Training Sydney", "Functional fitness", "Sydney, Australia", "gyms", -33.8720, 151.2260, 4.3),
  createLocation("gym-28", "Metropolitan Barcelona", "Premium fitness club", "Barcelona, Spain", "gyms", 41.3920, 2.1620, 4.3),
  createLocation("gym-29", "Virgin Active Italy", "Premium fitness", "Milan, Italy", "gyms", 45.4640, 9.1980, 4.3),
  createLocation("gym-30", "Smart Fit São Paulo", "Popular Brazilian chain", "São Paulo, Brazil", "gyms", -23.5610, -46.6560, 4.1),
  createLocation("gym-31", "Virgin Active Cape Town", "Premium fitness chain", "Cape Town, South Africa", "gyms", -33.9050, 18.4180, 4.3),
  createLocation("gym-32", "Sports World Mexico", "Large gym chain", "Mexico City, Mexico", "gyms", 19.3900, -99.1800, 4.1),
];
</file>

<file path="store/maps-store.ts">
import { create } from "zustand";
import { locations as initialLocations, type Location } from "@/mock-data/locations";

type ViewMode = "map" | "list" | "split";
type SortBy = "date-newest" | "date-oldest" | "alpha-az" | "alpha-za" | "rating" | "visits" | "nearest";
type MapStyle = "default" | "streets" | "outdoors" | "satellite";

function calculateDistance(
  lat1: number,
  lng1: number,
  lat2: number,
  lng2: number
): number {
  const R = 6371;
  const dLat = ((lat2 - lat1) * Math.PI) / 180;
  const dLng = ((lng2 - lng1) * Math.PI) / 180;
  const a =
    Math.sin(dLat / 2) * Math.sin(dLat / 2) +
    Math.cos((lat1 * Math.PI) / 180) *
      Math.cos((lat2 * Math.PI) / 180) *
      Math.sin(dLng / 2) *
      Math.sin(dLng / 2);
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
  return R * c;
}

interface MapsState {
  locations: Location[];
  selectedCategory: string;
  selectedTags: string[];
  searchQuery: string;
  viewMode: ViewMode;
  sortBy: SortBy;
  selectedLocationId: string | null;
  mapCenter: { lat: number; lng: number };
  mapZoom: number;
  mapStyle: MapStyle;
  userLocation: { lat: number; lng: number } | null;
  routeDestinationId: string | null;
  isPanelVisible: boolean;
  setSelectedCategory: (categoryId: string) => void;
  toggleTag: (tagId: string) => void;
  clearTags: () => void;
  setSearchQuery: (query: string) => void;
  setViewMode: (mode: ViewMode) => void;
  setSortBy: (sort: SortBy) => void;
  toggleFavorite: (locationId: string) => void;
  selectLocation: (locationId: string | null) => void;
  setMapCenter: (center: { lat: number; lng: number }) => void;
  setMapZoom: (zoom: number) => void;
  setMapStyle: (style: MapStyle) => void;
  setUserLocation: (location: { lat: number; lng: number } | null) => void;
  setRouteDestination: (locationId: string | null) => void;
  clearRoute: () => void;
  setPanelVisible: (visible: boolean) => void;
  resetSelectionIfNotInList: (locations: Location[]) => void;
  getFilteredLocations: () => Location[];
  getFavoriteLocations: () => Location[];
  getRecentLocations: () => Location[];
}

export const useMapsStore = create<MapsState>((set, get) => ({
  locations: initialLocations,
  selectedCategory: "all",
  selectedTags: [],
  searchQuery: "",
  viewMode: "split",
  sortBy: "nearest",
  selectedLocationId: null,
  mapCenter: { lat: 20, lng: 0 },
  mapZoom: 2,
  mapStyle: "default",
  userLocation: null,
  routeDestinationId: null,
  isPanelVisible: true,

  setSelectedCategory: (categoryId) => {
    const state = get();
    const newState: Partial<MapsState> = { selectedCategory: categoryId };
    
    if (state.selectedLocationId) {
      const location = state.locations.find((l) => l.id === state.selectedLocationId);
      if (location && categoryId !== "all" && location.categoryId !== categoryId) {
        newState.selectedLocationId = null;
        newState.routeDestinationId = null;
      }
    }
    
    set(newState);
  },

  toggleTag: (tagId) =>
    set((state) => ({
      selectedTags: state.selectedTags.includes(tagId)
        ? state.selectedTags.filter((t) => t !== tagId)
        : [...state.selectedTags, tagId],
    })),

  clearTags: () => set({ selectedTags: [] }),

  setSearchQuery: (query) => set({ searchQuery: query }),

  setViewMode: (mode) => set({ viewMode: mode }),

  setSortBy: (sort) => set({ sortBy: sort }),

  toggleFavorite: (locationId) =>
    set((state) => ({
      locations: state.locations.map((location) =>
        location.id === locationId
          ? { ...location, isFavorite: !location.isFavorite }
          : location
      ),
    })),

  selectLocation: (locationId) => set({ selectedLocationId: locationId }),

  setMapCenter: (center) => set({ mapCenter: center }),

  setMapZoom: (zoom) => set({ mapZoom: zoom }),

  setMapStyle: (style) => set({ mapStyle: style }),

  setUserLocation: (location) => set({ userLocation: location }),

  setRouteDestination: (locationId) => set({ routeDestinationId: locationId }),

  clearRoute: () => set({ routeDestinationId: null }),

  setPanelVisible: (visible) => set({ isPanelVisible: visible }),

  resetSelectionIfNotInList: (locations) => {
    const state = get();
    if (state.selectedLocationId) {
      const isInList = locations.some((l) => l.id === state.selectedLocationId);
      if (!isInList) {
        set({ selectedLocationId: null, routeDestinationId: null });
      }
    }
  },

  getFilteredLocations: () => {
    const state = get();
    let filtered = [...state.locations];

    if (state.selectedCategory !== "all") {
      filtered = filtered.filter((l) => l.categoryId === state.selectedCategory);
    }

    if (state.selectedTags.length > 0) {
      filtered = filtered.filter((l) =>
        state.selectedTags.some((tag) => l.tags.includes(tag))
      );
    }

    if (state.searchQuery) {
      const query = state.searchQuery.toLowerCase();
      filtered = filtered.filter(
        (l) =>
          l.name.toLowerCase().includes(query) ||
          l.description.toLowerCase().includes(query) ||
          l.address.toLowerCase().includes(query)
      );
    }

    switch (state.sortBy) {
      case "nearest":
        if (state.userLocation) {
          filtered.sort((a, b) => {
            const distA = calculateDistance(
              state.userLocation!.lat,
              state.userLocation!.lng,
              a.coordinates.lat,
              a.coordinates.lng
            );
            const distB = calculateDistance(
              state.userLocation!.lat,
              state.userLocation!.lng,
              b.coordinates.lat,
              b.coordinates.lng
            );
            return distA - distB;
          });
        }
        break;
      case "date-newest":
        filtered.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());
        break;
      case "date-oldest":
        filtered.sort((a, b) => new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime());
        break;
      case "alpha-az":
        filtered.sort((a, b) => a.name.localeCompare(b.name));
        break;
      case "alpha-za":
        filtered.sort((a, b) => b.name.localeCompare(a.name));
        break;
      case "rating":
        filtered.sort((a, b) => b.rating - a.rating);
        break;
      case "visits":
        filtered.sort((a, b) => b.visitCount - a.visitCount);
        break;
    }

    return filtered;
  },

  getFavoriteLocations: () => {
    const state = get();
    let filtered = state.locations.filter((l) => l.isFavorite);

    if (state.selectedCategory !== "all") {
      filtered = filtered.filter((l) => l.categoryId === state.selectedCategory);
    }

    if (state.searchQuery) {
      const query = state.searchQuery.toLowerCase();
      filtered = filtered.filter(
        (l) =>
          l.name.toLowerCase().includes(query) ||
          l.description.toLowerCase().includes(query) ||
          l.address.toLowerCase().includes(query)
      );
    }

    filtered.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());

    return filtered;
  },

  getRecentLocations: () => {
    const state = get();
    let filtered = [...state.locations];

    if (state.selectedCategory !== "all") {
      filtered = filtered.filter((l) => l.categoryId === state.selectedCategory);
    }

    if (state.searchQuery) {
      const query = state.searchQuery.toLowerCase();
      filtered = filtered.filter(
        (l) =>
          l.name.toLowerCase().includes(query) ||
          l.description.toLowerCase().includes(query) ||
          l.address.toLowerCase().includes(query)
      );
    }

    filtered.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());

    return filtered.slice(0, 20);
  },
}));
</file>

<file path=".gitignore">
# dependencies
/node_modules
/.pnp
.pnp.*
.yarn/*
!.yarn/patches
!.yarn/plugins
!.yarn/releases
!.yarn/versions

# testing
/coverage

# next.js
/.next/
/out/

# production
/build

# misc
.DS_Store
*.pem

# debug
npm-debug.log*
yarn-debug.log*
yarn-error.log*
.pnpm-debug.log*

# env files
.env*

# vercel
.vercel

# typescript
*.tsbuildinfo
next-env.d.ts
</file>

<file path="components.json">
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "new-york",
  "rsc": true,
  "tsx": true,
  "tailwind": {
    "config": "",
    "css": "app/globals.css",
    "baseColor": "neutral",
    "cssVariables": true,
    "prefix": ""
  },
  "iconLibrary": "lucide",
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  },
  "registries": {}
}
</file>

<file path="eslint.config.mjs">
import { dirname } from "path";
import { fileURLToPath } from "url";
import { FlatCompat } from "@eslint/eslintrc";

const __filename = fileURLToPath(import.meta.url);
const __dirname = dirname(__filename);

const compat = new FlatCompat({
  baseDirectory: __dirname,
});

const eslintConfig = [
  ...compat.extends("next/core-web-vitals", "next/typescript"),
];

export default eslintConfig;
</file>

<file path="next.config.ts">
import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  images: {
    remotePatterns: [
      {
        protocol: "https",
        hostname: "api.dicebear.com",
      },
      {
        protocol: "https",
        hostname: "images.unsplash.com",
      },
    ],
  },
};

export default nextConfig;
</file>

<file path="package.json">
{
  "name": "maps",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "eslint"
  },
  "dependencies": {
    "@radix-ui/react-collapsible": "^1.1.12",
    "@radix-ui/react-dialog": "^1.1.15",
    "@radix-ui/react-dropdown-menu": "^2.1.16",
    "@radix-ui/react-scroll-area": "^1.2.4",
    "@radix-ui/react-separator": "^1.1.8",
    "@radix-ui/react-slot": "^1.2.4",
    "@radix-ui/react-tooltip": "^1.2.8",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "lucide-react": "^0.552.0",
    "maplibre-gl": "^5.6.0",
    "next": "16.0.10",
    "next-themes": "^0.4.6",
    "react": "19.2.1",
    "react-dom": "19.2.1",
    "tailwind-merge": "^3.4.0",
    "tw-animate-css": "^1.4.0",
    "usehooks-ts": "^3.1.1",
    "zustand": "^5.0.9"
  },
  "devDependencies": {
    "@tailwindcss/postcss": "^4",
    "@types/node": "^20",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "eslint": "^9",
    "eslint-config-next": "16.0.10",
    "tailwindcss": "^4",
    "typescript": "^5"
  }
}
</file>

<file path="postcss.config.mjs">
const config = {
  plugins: {
    "@tailwindcss/postcss": {},
  },
};

export default config;
</file>

<file path="tsconfig.json">
{
  "compilerOptions": {
    "target": "ES2017",
    "lib": [
      "dom",
      "dom.iterable",
      "esnext"
    ],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "react-jsx",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": [
        "./*"
      ]
    }
  },
  "include": [
    "next-env.d.ts",
    "**/*.ts",
    "**/*.tsx",
    ".next/types/**/*.ts",
    ".next/dev/types/**/*.ts"
  ],
  "exclude": [
    "node_modules"
  ]
}
</file>

</files>
